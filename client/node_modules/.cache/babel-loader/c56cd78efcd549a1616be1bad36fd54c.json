{"ast":null,"code":"var _excluded = [\"a11yTitle\", \"aria-label\", \"children\", \"disabled\", \"dropAlign\", \"dropBackground\", \"dropProps\", \"dropTarget\", \"justifyContent\", \"icon\", \"items\", \"label\", \"messages\", \"onKeyDown\", \"open\", \"plain\", \"size\"],\n    _excluded2 = [\"align\"];\n\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nimport React, { useRef, forwardRef, useCallback, useContext, useMemo, useState, useEffect } from 'react';\nimport styled, { ThemeContext } from 'styled-components';\nimport { defaultProps } from '../../default-props';\nimport { Box } from '../Box';\nimport { Button } from '../Button';\nimport { DropButton } from '../DropButton';\nimport { Keyboard } from '../Keyboard';\nimport { Text } from '../Text';\nimport { normalizeColor } from '../../utils';\nimport { MessageContext } from '../../contexts/MessageContext';\nimport { MenuPropTypes } from './propTypes';\nvar ContainerBox = styled(Box).withConfig({\n  displayName: \"Menu__ContainerBox\",\n  componentId: \"sc-17fcys9-0\"\n})([\"max-height:inherit;@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){width:100%;}:focus{outline:none;}\", \";\"], function (props) {\n  return props.theme.menu.extend;\n});\n/* Notes on keyboard interactivity (based on W3) // For details reference: https://www.w3.org/TR/wai-aria-practices/#menu\n\nTo open menu when menu button is focused:\n- Space/Enter/Up arrow/Down arrow will open menu\n\nTo navigate within menu:\n- Up/down arrow keys can be used and will loop through options\n(keeping focus within the Menu)\n- Tab can be used, but once the last menu item is reached, Tab will close the\nMenu and continue through page content.\n\nTo close the menu:\n- Tabbing beyond the first or last menu item.\n- Esc will close the menu\n- Select a menu item\n\nTo make a selection:\n- Enter key is pressed.\n- Space is pressed.\n*/\n\nvar Menu = /*#__PURE__*/forwardRef(function (props, ref) {\n  var a11yTitle = props.a11yTitle,\n      ariaLabel = props['aria-label'],\n      children = props.children,\n      disabled = props.disabled,\n      dropAlign = props.dropAlign,\n      dropBackground = props.dropBackground,\n      dropProps = props.dropProps,\n      dropTarget = props.dropTarget,\n      justifyContent = props.justifyContent,\n      icon = props.icon,\n      items = props.items,\n      label = props.label,\n      messages = props.messages,\n      onKeyDown = props.onKeyDown,\n      open = props.open,\n      plain = props.plain,\n      size = props.size,\n      rest = _objectWithoutPropertiesLoose(props, _excluded);\n\n  var theme = useContext(ThemeContext) || defaultProps.theme;\n\n  var _useContext = useContext(MessageContext),\n      format = _useContext.format;\n\n  var iconColor = normalizeColor(theme.menu.icons.color || 'control', theme); // need to destructure the align otherwise it will get passed through\n  // to DropButton and override prop values\n\n  var _theme$menu$drop = theme.menu.drop,\n      themeDropAlign = _theme$menu$drop.align,\n      themeDropProps = _objectWithoutPropertiesLoose(_theme$menu$drop, _excluded2);\n\n  var a11y = ariaLabel || a11yTitle; // total number of menu items\n\n  var itemCount = useMemo(function () {\n    var count = 0;\n\n    if (items && Array.isArray(items[0])) {\n      items.forEach(function (group) {\n        count += group.length;\n      });\n    } else count = items.length;\n\n    return count;\n  }, [items]);\n  var align = dropProps && dropProps.align || dropAlign || themeDropAlign;\n  var controlButtonIndex = useMemo(function () {\n    if (align.top === 'top') return -1;\n    if (align.bottom === 'bottom') return itemCount;\n    return undefined;\n  }, [align, itemCount]); // Keeps track of whether menu options should be mirrored\n  // when there's not enough space below DropButton. This state\n  // is modified on /Drop/DropContainer.js.\n\n  var _useState = useState(),\n      alignControlMirror = _useState[0],\n      setAlignControlMirror = _useState[1];\n\n  var initialAlignTop = alignControlMirror === align.top;\n  var dropContainerRef = useRef();\n  var buttonRefs = useRef([]);\n  var constants = useMemo(function () {\n    return {\n      none: 'none',\n      tab: 9,\n      // Menu control button included on top of menu items\n      controlTop: align.top === 'top' || undefined,\n      // Menu control button included on the bottom of menu items\n      controlBottom: align.bottom === 'bottom' || undefined,\n      controlButtonIndex: controlButtonIndex\n    };\n  }, [align, controlButtonIndex]);\n\n  var _useState2 = useState(constants.none),\n      activeItemIndex = _useState2[0],\n      setActiveItemIndex = _useState2[1];\n\n  var _useState3 = useState(open || false),\n      isOpen = _useState3[0],\n      setOpen = _useState3[1];\n\n  var MenuIcon = isOpen && theme.menu.icons.up ? theme.menu.icons.up : theme.menu.icons.down;\n  var onDropClose = useCallback(function () {\n    setActiveItemIndex(constants.none);\n    setOpen(false);\n  }, [constants.none]);\n  var onDropOpen = useCallback(function () {\n    setOpen(true);\n  }, []);\n  useEffect(function () {\n    // need to wait for Drop to be ready\n    var timer = setTimeout(function () {\n      if (isOpen) {\n        var optionsNode = dropContainerRef.current;\n\n        if (optionsNode) {\n          optionsNode.focus();\n        }\n      }\n    }, 100);\n    return function () {\n      return clearTimeout(timer);\n    };\n  }, [isOpen]);\n\n  var onSelectMenuItem = function onSelectMenuItem(event) {\n    if (isOpen) {\n      if (activeItemIndex >= 0) {\n        event.preventDefault();\n        event.stopPropagation();\n        buttonRefs.current[activeItemIndex].click();\n      }\n    } else {\n      onDropOpen();\n    }\n  };\n\n  var isTab = function isTab(event) {\n    return event.keyCode === constants.tab || event.which === constants.tab;\n  };\n\n  var onNextMenuItem = function onNextMenuItem(event) {\n    event.preventDefault();\n\n    if (!isOpen) {\n      onDropOpen();\n    } else if (isTab(event) && (!constants.controlBottom && activeItemIndex === itemCount - 1 || constants.controlBottom && activeItemIndex === controlButtonIndex)) {\n      // User has reached end of the menu, this tab will close\n      // the menu drop because there are no more \"next items\" to access\n      onDropClose();\n    } else {\n      var index;\n\n      if ( // This checks if the user has reached the end of the menu.\n      // In the case the the menu control button is located at the\n      // bottom of the menu, it checks if the user has reached the button.\n      // Otherwise, it checks if the user is at the last menu item.\n      constants.controlBottom && activeItemIndex === controlButtonIndex || !constants.controlBottom && activeItemIndex === itemCount - 1 || activeItemIndex === constants.none) {\n        // place focus on the first menu item\n        index = 0;\n      } else {\n        index = activeItemIndex + 1;\n      }\n\n      setActiveItemIndex(index);\n\n      if (buttonRefs.current[index]) {\n        buttonRefs.current[index].focus();\n      }\n    }\n  };\n\n  var onPreviousMenuItem = function onPreviousMenuItem(event) {\n    event.preventDefault();\n\n    if (!isOpen) {\n      onDropOpen();\n    } else if (isTab(event) && (constants.controlTop && activeItemIndex === controlButtonIndex || !constants.controlTop && activeItemIndex - 1 < 0)) {\n      // User has reached beginning of the menu, this tab will close\n      // the menu drop because there are no more \"previous items\" to access\n      onDropClose();\n    } else {\n      var index;\n\n      if (activeItemIndex === 'none') {\n        index = itemCount - 1;\n      } else if (activeItemIndex - 1 < 0) {\n        if (constants.controlTop && activeItemIndex - 1 === controlButtonIndex) {\n          index = itemCount;\n        } else {\n          index = itemCount - 1;\n        }\n      } else {\n        index = activeItemIndex - 1;\n      }\n\n      setActiveItemIndex(index);\n\n      if (buttonRefs.current[index]) {\n        buttonRefs.current[index].focus();\n      }\n    }\n  };\n\n  var menuIcon = icon !== false ? icon !== true && icon || /*#__PURE__*/React.createElement(MenuIcon, {\n    color: iconColor,\n    size: size\n  }) : null;\n  var buttonProps = {\n    plain: plain,\n    size: size\n  };\n  var content;\n\n  if (children) {\n    content = children;\n  } else if (!theme.button[\"default\"]) {\n    content = /*#__PURE__*/React.createElement(Box, {\n      direction: \"row\",\n      justify: justifyContent,\n      align: \"center\",\n      pad: \"small\",\n      gap: label && icon !== false ? 'small' : undefined\n    }, /*#__PURE__*/React.createElement(Text, {\n      size: size\n    }, label), menuIcon);\n  } else {\n    // when a theme has theme.button.default, keep content as\n    // undefined so we can rely on Button label & icon props\n    buttonProps = {\n      icon: menuIcon,\n      label: label,\n      plain: plain,\n      reverse: true,\n      size: size\n    };\n    content = undefined;\n  }\n\n  var controlMirror = /*#__PURE__*/React.createElement(Box, {\n    flex: false\n  }, /*#__PURE__*/React.createElement(Button, _extends({\n    ref: function ref(r) {\n      // make it accessible at the end of all menu items\n      buttonRefs.current[itemCount] = r;\n    },\n    a11yTitle: a11y || format({\n      id: 'menu.closeMenu',\n      messages: messages\n    }),\n    active: activeItemIndex === controlButtonIndex,\n    focusIndicator: false,\n    hoverIndicator: \"background\",\n    onClick: onDropClose,\n    onFocus: function onFocus() {\n      return setActiveItemIndex(controlButtonIndex);\n    } // On first tab into menu, the control button should not\n    // be able to receive tab focus because the focus should\n    // go to the first menu item instead.\n    ,\n    tabIndex: activeItemIndex === constants.none ? '-1' : undefined\n  }, buttonProps), typeof content === 'function' ? function () {\n    return content(_extends({}, props, {\n      drop: true\n    }));\n  } : content));\n\n  var menuItem = function menuItem(item, index) {\n    // Determine whether the label is done as a child or\n    // as an option Button kind property.\n    var child = !theme.button.option ? /*#__PURE__*/React.createElement(Box, {\n      align: \"start\",\n      pad: \"small\",\n      direction: \"row\",\n      gap: item.gap,\n      justify: item.justify\n    }, item.reverse && item.label, item.icon, !item.reverse && item.label) : undefined; // if we have a child, turn on plain, and hoverIndicator\n\n    return (\n      /*#__PURE__*/\n      // eslint-disable-next-line react/no-array-index-key\n      React.createElement(Box, {\n        key: index,\n        flex: false,\n        role: \"none\"\n      }, /*#__PURE__*/React.createElement(Button, _extends({\n        ref: function ref(r) {\n          buttonRefs.current[index] = r;\n        },\n        role: \"menuitem\",\n        onFocus: function onFocus() {\n          setActiveItemIndex(index);\n        },\n        active: activeItemIndex === index,\n        focusIndicator: false,\n        plain: !child ? undefined : true,\n        align: \"start\",\n        justify: item.justify,\n        kind: !child ? 'option' : undefined,\n        hoverIndicator: !child ? undefined : 'background'\n      }, !child ? item : _extends({}, item, {\n        gap: undefined,\n        icon: undefined,\n        label: undefined,\n        reverse: undefined\n      }), {\n        onClick: function onClick() {\n          if (item.onClick) {\n            item.onClick.apply(item, arguments);\n          }\n\n          if (item.close !== false) {\n            onDropClose();\n          }\n        }\n      }), child))\n    );\n  };\n\n  var menuContent;\n\n  if (itemCount && Array.isArray(items[0])) {\n    var index = 0;\n    menuContent = items.map(function (group, groupIndex) {\n      var _theme$menu$group, _theme$menu$group$sep, _theme$menu$group2, _theme$menu$group2$se, _theme$menu$group3;\n\n      return /*#__PURE__*/React.createElement(Box // eslint-disable-next-line react/no-array-index-key\n      , {\n        key: groupIndex\n      }, groupIndex > 0 && /*#__PURE__*/React.createElement(Box, {\n        pad: theme.menu.group.separator.pad\n      }, /*#__PURE__*/React.createElement(Box, {\n        border: {\n          side: 'top',\n          color: (_theme$menu$group = theme.menu.group) == null ? void 0 : (_theme$menu$group$sep = _theme$menu$group.separator) == null ? void 0 : _theme$menu$group$sep.color,\n          size: (_theme$menu$group2 = theme.menu.group) == null ? void 0 : (_theme$menu$group2$se = _theme$menu$group2.separator) == null ? void 0 : _theme$menu$group2$se.size\n        }\n      })), /*#__PURE__*/React.createElement(Box, (_theme$menu$group3 = theme.menu.group) == null ? void 0 : _theme$menu$group3.container, group.map(function (item) {\n        // item index needs to be its index in the entire menu as if\n        // it were a flat array\n        var currentIndex = index;\n        index += 1;\n        return menuItem(item, currentIndex);\n      })));\n    });\n  } else menuContent = items.map(function (item, index) {\n    return menuItem(item, index);\n  });\n\n  return /*#__PURE__*/React.createElement(Keyboard, {\n    onDown: onDropOpen,\n    onUp: onDropOpen,\n    onSpace: onSelectMenuItem,\n    onEsc: onDropClose,\n    onTab: onDropClose,\n    onKeyDown: onKeyDown\n  }, /*#__PURE__*/React.createElement(DropButton, _extends({\n    ref: ref\n  }, rest, buttonProps, {\n    a11yTitle: a11y || format({\n      id: 'menu.openMenu',\n      messages: messages\n    }),\n    \"aria-haspopup\": \"menu\",\n    \"aria-expanded\": isOpen,\n    onAlign: setAlignControlMirror,\n    disabled: disabled,\n    dropAlign: align,\n    dropTarget: dropTarget,\n    dropProps: dropProps || themeDropProps,\n    open: isOpen,\n    onOpen: onDropOpen,\n    onClose: onDropClose,\n    dropContent: /*#__PURE__*/React.createElement(Keyboard, {\n      onTab: function onTab(event) {\n        return event.shiftKey ? onPreviousMenuItem(event) : onNextMenuItem(event);\n      },\n      onDown: onNextMenuItem,\n      onUp: onPreviousMenuItem,\n      onEnter: onSelectMenuItem\n    }, /*#__PURE__*/React.createElement(ContainerBox, {\n      ref: dropContainerRef,\n      tabIndex: -1,\n      background: dropBackground || theme.menu.background\n    }, alignControlMirror === 'top' && align.top === 'top' ? controlMirror : undefined, /*#__PURE__*/React.createElement(Box, {\n      overflow: \"auto\",\n      role: \"menu\",\n      a11yTitle: a11y\n    }, menuContent), !initialAlignTop && (alignControlMirror === 'bottom' || align.bottom === 'bottom') ? controlMirror : undefined))\n  }), content));\n});\nMenu.defaultProps = {\n  items: [],\n  messages: undefined,\n  justifyContent: 'start'\n};\nMenu.displayName = 'Menu';\nMenu.propTypes = MenuPropTypes;\nexport { Menu };","map":{"version":3,"names":["_excluded","_excluded2","_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf","React","useRef","forwardRef","useCallback","useContext","useMemo","useState","useEffect","styled","ThemeContext","defaultProps","Box","Button","DropButton","Keyboard","Text","normalizeColor","MessageContext","MenuPropTypes","ContainerBox","withConfig","displayName","componentId","props","theme","menu","extend","Menu","ref","a11yTitle","ariaLabel","children","disabled","dropAlign","dropBackground","dropProps","dropTarget","justifyContent","icon","items","label","messages","onKeyDown","open","plain","size","rest","_useContext","format","iconColor","icons","color","_theme$menu$drop","drop","themeDropAlign","align","themeDropProps","a11y","itemCount","count","Array","isArray","forEach","group","controlButtonIndex","top","bottom","undefined","_useState","alignControlMirror","setAlignControlMirror","initialAlignTop","dropContainerRef","buttonRefs","constants","none","tab","controlTop","controlBottom","_useState2","activeItemIndex","setActiveItemIndex","_useState3","isOpen","setOpen","MenuIcon","up","down","onDropClose","onDropOpen","timer","setTimeout","optionsNode","current","focus","clearTimeout","onSelectMenuItem","event","preventDefault","stopPropagation","click","isTab","keyCode","which","onNextMenuItem","index","onPreviousMenuItem","menuIcon","createElement","buttonProps","content","button","direction","justify","pad","gap","reverse","controlMirror","flex","r","id","active","focusIndicator","hoverIndicator","onClick","onFocus","tabIndex","menuItem","item","child","option","role","kind","close","menuContent","map","groupIndex","_theme$menu$group","_theme$menu$group$sep","_theme$menu$group2","_theme$menu$group2$se","_theme$menu$group3","separator","border","side","container","currentIndex","onDown","onUp","onSpace","onEsc","onTab","onAlign","onOpen","onClose","dropContent","shiftKey","onEnter","background","overflow","propTypes"],"sources":["/Users/siddharthkhatri/Developer/React JS/phone-book/client/node_modules/grommet/es6/components/Menu/Menu.js"],"sourcesContent":["var _excluded = [\"a11yTitle\", \"aria-label\", \"children\", \"disabled\", \"dropAlign\", \"dropBackground\", \"dropProps\", \"dropTarget\", \"justifyContent\", \"icon\", \"items\", \"label\", \"messages\", \"onKeyDown\", \"open\", \"plain\", \"size\"],\n    _excluded2 = [\"align\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { useRef, forwardRef, useCallback, useContext, useMemo, useState, useEffect } from 'react';\nimport styled, { ThemeContext } from 'styled-components';\nimport { defaultProps } from '../../default-props';\nimport { Box } from '../Box';\nimport { Button } from '../Button';\nimport { DropButton } from '../DropButton';\nimport { Keyboard } from '../Keyboard';\nimport { Text } from '../Text';\nimport { normalizeColor } from '../../utils';\nimport { MessageContext } from '../../contexts/MessageContext';\nimport { MenuPropTypes } from './propTypes';\nvar ContainerBox = styled(Box).withConfig({\n  displayName: \"Menu__ContainerBox\",\n  componentId: \"sc-17fcys9-0\"\n})([\"max-height:inherit;@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){width:100%;}:focus{outline:none;}\", \";\"], function (props) {\n  return props.theme.menu.extend;\n});\n/* Notes on keyboard interactivity (based on W3) // For details reference: https://www.w3.org/TR/wai-aria-practices/#menu\n\nTo open menu when menu button is focused:\n- Space/Enter/Up arrow/Down arrow will open menu\n\nTo navigate within menu:\n- Up/down arrow keys can be used and will loop through options\n(keeping focus within the Menu)\n- Tab can be used, but once the last menu item is reached, Tab will close the\nMenu and continue through page content.\n\nTo close the menu:\n- Tabbing beyond the first or last menu item.\n- Esc will close the menu\n- Select a menu item\n\nTo make a selection:\n- Enter key is pressed.\n- Space is pressed.\n*/\n\nvar Menu = /*#__PURE__*/forwardRef(function (props, ref) {\n  var a11yTitle = props.a11yTitle,\n      ariaLabel = props['aria-label'],\n      children = props.children,\n      disabled = props.disabled,\n      dropAlign = props.dropAlign,\n      dropBackground = props.dropBackground,\n      dropProps = props.dropProps,\n      dropTarget = props.dropTarget,\n      justifyContent = props.justifyContent,\n      icon = props.icon,\n      items = props.items,\n      label = props.label,\n      messages = props.messages,\n      onKeyDown = props.onKeyDown,\n      open = props.open,\n      plain = props.plain,\n      size = props.size,\n      rest = _objectWithoutPropertiesLoose(props, _excluded);\n\n  var theme = useContext(ThemeContext) || defaultProps.theme;\n\n  var _useContext = useContext(MessageContext),\n      format = _useContext.format;\n\n  var iconColor = normalizeColor(theme.menu.icons.color || 'control', theme); // need to destructure the align otherwise it will get passed through\n  // to DropButton and override prop values\n\n  var _theme$menu$drop = theme.menu.drop,\n      themeDropAlign = _theme$menu$drop.align,\n      themeDropProps = _objectWithoutPropertiesLoose(_theme$menu$drop, _excluded2);\n\n  var a11y = ariaLabel || a11yTitle; // total number of menu items\n\n  var itemCount = useMemo(function () {\n    var count = 0;\n\n    if (items && Array.isArray(items[0])) {\n      items.forEach(function (group) {\n        count += group.length;\n      });\n    } else count = items.length;\n\n    return count;\n  }, [items]);\n  var align = dropProps && dropProps.align || dropAlign || themeDropAlign;\n  var controlButtonIndex = useMemo(function () {\n    if (align.top === 'top') return -1;\n    if (align.bottom === 'bottom') return itemCount;\n    return undefined;\n  }, [align, itemCount]); // Keeps track of whether menu options should be mirrored\n  // when there's not enough space below DropButton. This state\n  // is modified on /Drop/DropContainer.js.\n\n  var _useState = useState(),\n      alignControlMirror = _useState[0],\n      setAlignControlMirror = _useState[1];\n\n  var initialAlignTop = alignControlMirror === align.top;\n  var dropContainerRef = useRef();\n  var buttonRefs = useRef([]);\n  var constants = useMemo(function () {\n    return {\n      none: 'none',\n      tab: 9,\n      // Menu control button included on top of menu items\n      controlTop: align.top === 'top' || undefined,\n      // Menu control button included on the bottom of menu items\n      controlBottom: align.bottom === 'bottom' || undefined,\n      controlButtonIndex: controlButtonIndex\n    };\n  }, [align, controlButtonIndex]);\n\n  var _useState2 = useState(constants.none),\n      activeItemIndex = _useState2[0],\n      setActiveItemIndex = _useState2[1];\n\n  var _useState3 = useState(open || false),\n      isOpen = _useState3[0],\n      setOpen = _useState3[1];\n\n  var MenuIcon = isOpen && theme.menu.icons.up ? theme.menu.icons.up : theme.menu.icons.down;\n  var onDropClose = useCallback(function () {\n    setActiveItemIndex(constants.none);\n    setOpen(false);\n  }, [constants.none]);\n  var onDropOpen = useCallback(function () {\n    setOpen(true);\n  }, []);\n  useEffect(function () {\n    // need to wait for Drop to be ready\n    var timer = setTimeout(function () {\n      if (isOpen) {\n        var optionsNode = dropContainerRef.current;\n\n        if (optionsNode) {\n          optionsNode.focus();\n        }\n      }\n    }, 100);\n    return function () {\n      return clearTimeout(timer);\n    };\n  }, [isOpen]);\n\n  var onSelectMenuItem = function onSelectMenuItem(event) {\n    if (isOpen) {\n      if (activeItemIndex >= 0) {\n        event.preventDefault();\n        event.stopPropagation();\n        buttonRefs.current[activeItemIndex].click();\n      }\n    } else {\n      onDropOpen();\n    }\n  };\n\n  var isTab = function isTab(event) {\n    return event.keyCode === constants.tab || event.which === constants.tab;\n  };\n\n  var onNextMenuItem = function onNextMenuItem(event) {\n    event.preventDefault();\n\n    if (!isOpen) {\n      onDropOpen();\n    } else if (isTab(event) && (!constants.controlBottom && activeItemIndex === itemCount - 1 || constants.controlBottom && activeItemIndex === controlButtonIndex)) {\n      // User has reached end of the menu, this tab will close\n      // the menu drop because there are no more \"next items\" to access\n      onDropClose();\n    } else {\n      var index;\n\n      if ( // This checks if the user has reached the end of the menu.\n      // In the case the the menu control button is located at the\n      // bottom of the menu, it checks if the user has reached the button.\n      // Otherwise, it checks if the user is at the last menu item.\n      constants.controlBottom && activeItemIndex === controlButtonIndex || !constants.controlBottom && activeItemIndex === itemCount - 1 || activeItemIndex === constants.none) {\n        // place focus on the first menu item\n        index = 0;\n      } else {\n        index = activeItemIndex + 1;\n      }\n\n      setActiveItemIndex(index);\n\n      if (buttonRefs.current[index]) {\n        buttonRefs.current[index].focus();\n      }\n    }\n  };\n\n  var onPreviousMenuItem = function onPreviousMenuItem(event) {\n    event.preventDefault();\n\n    if (!isOpen) {\n      onDropOpen();\n    } else if (isTab(event) && (constants.controlTop && activeItemIndex === controlButtonIndex || !constants.controlTop && activeItemIndex - 1 < 0)) {\n      // User has reached beginning of the menu, this tab will close\n      // the menu drop because there are no more \"previous items\" to access\n      onDropClose();\n    } else {\n      var index;\n\n      if (activeItemIndex === 'none') {\n        index = itemCount - 1;\n      } else if (activeItemIndex - 1 < 0) {\n        if (constants.controlTop && activeItemIndex - 1 === controlButtonIndex) {\n          index = itemCount;\n        } else {\n          index = itemCount - 1;\n        }\n      } else {\n        index = activeItemIndex - 1;\n      }\n\n      setActiveItemIndex(index);\n\n      if (buttonRefs.current[index]) {\n        buttonRefs.current[index].focus();\n      }\n    }\n  };\n\n  var menuIcon = icon !== false ? icon !== true && icon || /*#__PURE__*/React.createElement(MenuIcon, {\n    color: iconColor,\n    size: size\n  }) : null;\n  var buttonProps = {\n    plain: plain,\n    size: size\n  };\n  var content;\n\n  if (children) {\n    content = children;\n  } else if (!theme.button[\"default\"]) {\n    content = /*#__PURE__*/React.createElement(Box, {\n      direction: \"row\",\n      justify: justifyContent,\n      align: \"center\",\n      pad: \"small\",\n      gap: label && icon !== false ? 'small' : undefined\n    }, /*#__PURE__*/React.createElement(Text, {\n      size: size\n    }, label), menuIcon);\n  } else {\n    // when a theme has theme.button.default, keep content as\n    // undefined so we can rely on Button label & icon props\n    buttonProps = {\n      icon: menuIcon,\n      label: label,\n      plain: plain,\n      reverse: true,\n      size: size\n    };\n    content = undefined;\n  }\n\n  var controlMirror = /*#__PURE__*/React.createElement(Box, {\n    flex: false\n  }, /*#__PURE__*/React.createElement(Button, _extends({\n    ref: function ref(r) {\n      // make it accessible at the end of all menu items\n      buttonRefs.current[itemCount] = r;\n    },\n    a11yTitle: a11y || format({\n      id: 'menu.closeMenu',\n      messages: messages\n    }),\n    active: activeItemIndex === controlButtonIndex,\n    focusIndicator: false,\n    hoverIndicator: \"background\",\n    onClick: onDropClose,\n    onFocus: function onFocus() {\n      return setActiveItemIndex(controlButtonIndex);\n    } // On first tab into menu, the control button should not\n    // be able to receive tab focus because the focus should\n    // go to the first menu item instead.\n    ,\n    tabIndex: activeItemIndex === constants.none ? '-1' : undefined\n  }, buttonProps), typeof content === 'function' ? function () {\n    return content(_extends({}, props, {\n      drop: true\n    }));\n  } : content));\n\n  var menuItem = function menuItem(item, index) {\n    // Determine whether the label is done as a child or\n    // as an option Button kind property.\n    var child = !theme.button.option ? /*#__PURE__*/React.createElement(Box, {\n      align: \"start\",\n      pad: \"small\",\n      direction: \"row\",\n      gap: item.gap,\n      justify: item.justify\n    }, item.reverse && item.label, item.icon, !item.reverse && item.label) : undefined; // if we have a child, turn on plain, and hoverIndicator\n\n    return (\n      /*#__PURE__*/\n      // eslint-disable-next-line react/no-array-index-key\n      React.createElement(Box, {\n        key: index,\n        flex: false,\n        role: \"none\"\n      }, /*#__PURE__*/React.createElement(Button, _extends({\n        ref: function ref(r) {\n          buttonRefs.current[index] = r;\n        },\n        role: \"menuitem\",\n        onFocus: function onFocus() {\n          setActiveItemIndex(index);\n        },\n        active: activeItemIndex === index,\n        focusIndicator: false,\n        plain: !child ? undefined : true,\n        align: \"start\",\n        justify: item.justify,\n        kind: !child ? 'option' : undefined,\n        hoverIndicator: !child ? undefined : 'background'\n      }, !child ? item : _extends({}, item, {\n        gap: undefined,\n        icon: undefined,\n        label: undefined,\n        reverse: undefined\n      }), {\n        onClick: function onClick() {\n          if (item.onClick) {\n            item.onClick.apply(item, arguments);\n          }\n\n          if (item.close !== false) {\n            onDropClose();\n          }\n        }\n      }), child))\n    );\n  };\n\n  var menuContent;\n\n  if (itemCount && Array.isArray(items[0])) {\n    var index = 0;\n    menuContent = items.map(function (group, groupIndex) {\n      var _theme$menu$group, _theme$menu$group$sep, _theme$menu$group2, _theme$menu$group2$se, _theme$menu$group3;\n\n      return /*#__PURE__*/React.createElement(Box // eslint-disable-next-line react/no-array-index-key\n      , {\n        key: groupIndex\n      }, groupIndex > 0 && /*#__PURE__*/React.createElement(Box, {\n        pad: theme.menu.group.separator.pad\n      }, /*#__PURE__*/React.createElement(Box, {\n        border: {\n          side: 'top',\n          color: (_theme$menu$group = theme.menu.group) == null ? void 0 : (_theme$menu$group$sep = _theme$menu$group.separator) == null ? void 0 : _theme$menu$group$sep.color,\n          size: (_theme$menu$group2 = theme.menu.group) == null ? void 0 : (_theme$menu$group2$se = _theme$menu$group2.separator) == null ? void 0 : _theme$menu$group2$se.size\n        }\n      })), /*#__PURE__*/React.createElement(Box, (_theme$menu$group3 = theme.menu.group) == null ? void 0 : _theme$menu$group3.container, group.map(function (item) {\n        // item index needs to be its index in the entire menu as if\n        // it were a flat array\n        var currentIndex = index;\n        index += 1;\n        return menuItem(item, currentIndex);\n      })));\n    });\n  } else menuContent = items.map(function (item, index) {\n    return menuItem(item, index);\n  });\n\n  return /*#__PURE__*/React.createElement(Keyboard, {\n    onDown: onDropOpen,\n    onUp: onDropOpen,\n    onSpace: onSelectMenuItem,\n    onEsc: onDropClose,\n    onTab: onDropClose,\n    onKeyDown: onKeyDown\n  }, /*#__PURE__*/React.createElement(DropButton, _extends({\n    ref: ref\n  }, rest, buttonProps, {\n    a11yTitle: a11y || format({\n      id: 'menu.openMenu',\n      messages: messages\n    }),\n    \"aria-haspopup\": \"menu\",\n    \"aria-expanded\": isOpen,\n    onAlign: setAlignControlMirror,\n    disabled: disabled,\n    dropAlign: align,\n    dropTarget: dropTarget,\n    dropProps: dropProps || themeDropProps,\n    open: isOpen,\n    onOpen: onDropOpen,\n    onClose: onDropClose,\n    dropContent: /*#__PURE__*/React.createElement(Keyboard, {\n      onTab: function onTab(event) {\n        return event.shiftKey ? onPreviousMenuItem(event) : onNextMenuItem(event);\n      },\n      onDown: onNextMenuItem,\n      onUp: onPreviousMenuItem,\n      onEnter: onSelectMenuItem\n    }, /*#__PURE__*/React.createElement(ContainerBox, {\n      ref: dropContainerRef,\n      tabIndex: -1,\n      background: dropBackground || theme.menu.background\n    }, alignControlMirror === 'top' && align.top === 'top' ? controlMirror : undefined, /*#__PURE__*/React.createElement(Box, {\n      overflow: \"auto\",\n      role: \"menu\",\n      a11yTitle: a11y\n    }, menuContent), !initialAlignTop && (alignControlMirror === 'bottom' || align.bottom === 'bottom') ? controlMirror : undefined))\n  }), content));\n});\nMenu.defaultProps = {\n  items: [],\n  messages: undefined,\n  justifyContent: 'start'\n};\nMenu.displayName = 'Menu';\nMenu.propTypes = MenuPropTypes;\nexport { Menu };"],"mappings":"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"},"metadata":{},"sourceType":"module"}