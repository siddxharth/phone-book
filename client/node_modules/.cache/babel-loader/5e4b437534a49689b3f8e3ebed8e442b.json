{"ast":null,"code":"var _excluded = [\"fill\", \"color\", \"continents\", \"hoverColor\", \"onSelectPlace\", \"places\"],\n    _excluded2 = [\"location\"],\n    _excluded3 = [\"color\", \"onClick\", \"onHover\"],\n    _excluded4 = [\"color\", \"coords\", \"content\", \"dropProps\", \"key\", \"name\", \"onClick\", \"onHover\"];\n\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nimport React, { forwardRef } from 'react';\nimport { ThemeContext } from 'styled-components';\nimport { Drop } from '../Drop';\nimport { defaultProps } from '../../default-props';\nimport { normalizeColor, parseMetricToNum } from '../../utils';\nimport { StyledWorldMap } from './StyledWorldMap';\nimport { WorldMapPropTypes } from './propTypes'; // The graphic is drawn as a rectangular grid using coordinates spaced\n// by FACTOR pixels.\n\nvar FACTOR = 10; // Mapping constants between coordinates and latitude+longitude.\n// The map coordinate space isn't precisely a mercator projection. So,\n// we have a few adjustments that we've empirically determined. The following\n// cities were used to make the empirical determinations:\n// London (0 lon), Quito (0 lat), Nome (far west), Sydney (far east),\n// Svalbard (far north), Ushuaia (far south).\n// These map to reality, they aren't adjusted.\n\nvar EQUATOR_Y = 32;\nvar WIDTH = 93; // Scale the latitude and longitude to align better with actual locations.\n\nvar LAT_SCALE = 0.98; // adjust more extreme latitudes to fit with the map dots better\n\nvar LAT_EXTREME_SCALE = 0.91;\nvar LON_SCALE = 0.99; // We shift the map coordinates to align better with actual locations.\n\nvar X_OFFSET = -2;\nvar Y_OFFSET = -2; // The continents have both an area boundary for interaction\n// and dots described as rows where each row is described by three values:\n// a starting coordinate and a length. This approach is more efficient than\n// describing it via SVG elements, keeping the code/library size smaller.\n\nvar CONTINENTS = [{\n  name: 'Australia',\n  origin: [74, 32],\n  area: [[4, 0], [7, 1], [15, 7], [13, 9], [8, 8], [0, 6], [0, 2]],\n  dots: [[4, 0, 1], [2, 1, 6], [0, 2, 9], [0, 3, 10], [0, 4, 10], [0, 5, 3], [5, 5, 5], [5, 6, 4], [8, 8, 1], [15, 7, 1], [14, 8, 1], [13, 9, 1]]\n}, {\n  name: 'Asia',\n  origin: [52, 1],\n  area: [[16, 0], [38, 5], [40, 7], [28, 17], [24, 25], [29, 29], [19, 29], [11, 24], [3, 23], [0, 20], [0, 19], [6, 13], [7, 6]],\n  dots: [[16, 0, 1], [17, 1, 2], [18, 2, 2], [15, 3, 6], [28, 3, 1], [30, 3, 1], [10, 4, 2], [13, 4, 10], [24, 4, 1], [9, 5, 22], [32, 5, 1], [38, 5, 1], [7, 6, 2], [10, 6, 1], [12, 6, 27], [7, 7, 34], [7, 8, 31], [7, 9, 26], [34, 9, 3], [7, 10, 22], [31, 10, 1], [33, 10, 1], [7, 11, 21], [32, 11, 2], [7, 12, 21], [32, 12, 1], [6, 13, 22], [32, 13, 1], [6, 14, 22], [5, 15, 22], [3, 16, 2], [6, 16, 20], [2, 17, 3], [6, 17, 16], [24, 17, 1], [28, 17, 1], [1, 18, 22], [26, 18, 2], [0, 19, 24], [0, 20, 5], [6, 20, 17], [2, 21, 5], [10, 21, 14], [2, 22, 5], [11, 22, 4], [16, 22, 4], [3, 23, 3], [11, 23, 2], [17, 23, 3], [23, 23, 1], [11, 24, 2], [18, 24, 2], [23, 24, 1], [24, 25, 1], [18, 26, 1], [22, 26, 1], [18, 27, 1], [20, 27, 4], [18, 28, 1], [21, 28, 1], [23, 28, 1], [26, 28, 3], [19, 29, 1], [28, 29, 2]]\n}, {\n  name: 'Africa',\n  origin: [40, 19],\n  area: [[3, 0], [6, 0], [11, 2], [16, 7], [16, 15], [11, 18], [9, 18], [0, 6], [0, 3]],\n  dots: [[3, 0, 4], [2, 1, 6], [9, 1, 2], [1, 2, 11], [0, 3, 13], [0, 4, 14], [0, 5, 14], [0, 6, 16], [1, 7, 16], [2, 8, 2], [6, 8, 11], [7, 9, 9], [7, 10, 8], [7, 11, 7], [8, 12, 7], [7, 13, 8], [7, 14, 7], [16, 14, 1], [8, 15, 5], [15, 15, 2], [8, 16, 5], [9, 17, 3], [9, 18, 3]]\n}, {\n  name: 'Europe',\n  origin: [39, 2],\n  area: [[8, 0], [10, 0], [20, 2], [19, 11], [18, 13], [14, 16], [3, 16], [0, 7]],\n  dots: [[8, 0, 3], [9, 1, 1], [20, 2, 1], [19, 3, 1], [12, 4, 1], [19, 4, 1], [9, 5, 6], [9, 6, 7], [17, 6, 3], [0, 7, 1], [8, 7, 12], [7, 8, 3], [11, 8, 9], [7, 9, 3], [11, 9, 9], [4, 10, 1], [7, 10, 1], [9, 10, 1], [11, 10, 9], [3, 11, 2], [7, 11, 13], [4, 12, 1], [6, 12, 13], [4, 13, 15], [5, 14, 3], [9, 14, 4], [15, 14, 2], [3, 15, 3], [8, 15, 1], [10, 15, 5], [6, 15, 2], [3, 16, 2], [10, 16, 5]]\n}, {\n  name: 'South America',\n  origin: [22, 26],\n  area: [[2, 0], [5, 0], [11, 4], [11, 8], [3, 18], [2, 17], [0, 4], [0, 3]],\n  dots: [[2, 0, 4], [1, 1, 7], [1, 2, 7], [0, 3, 10], [0, 4, 12], [1, 5, 11], [2, 6, 9], [3, 7, 8], [3, 8, 8], [3, 9, 6], [3, 10, 6], [3, 11, 5], [3, 12, 3], [2, 13, 3], [2, 14, 3], [2, 15, 2], [2, 16, 2], [2, 17, 2], [3, 18, 1]]\n}, {\n  name: 'North America',\n  origin: [0, 0],\n  area: [[21, 0], [39, 0], [39, 6], [22, 26], [16, 23], [2, 12], [0, 7]],\n  dots: [[22, 0, 6], [29, 0, 1], [31, 0, 1], [33, 0, 5], [20, 1, 1], [22, 1, 1], [24, 1, 2], [27, 1, 13], [17, 2, 1], [20, 2, 5], [26, 2, 13], [13, 3, 1], [19, 3, 1], [21, 3, 3], [26, 3, 14], [14, 4, 1], [16, 4, 4], [21, 4, 3], [29, 4, 11], [12, 5, 3], [16, 5, 1], [18, 5, 1], [20, 5, 3], [24, 5, 1], [30, 5, 8], [14, 6, 3], [19, 6, 1], [22, 6, 4], [31, 6, 8], [0, 7, 15], [16, 7, 1], [18, 7, 4], [24, 7, 2], [30, 7, 7], [2, 8, 20], [24, 8, 3], [29, 8, 5], [2, 9, 20], [24, 9, 2], [30, 9, 3], [1, 10, 18], [23, 10, 2], [31, 10, 1], [2, 11, 2], [8, 11, 11], [23, 11, 2], [26, 11, 1], [2, 12, 1], [8, 12, 13], [24, 12, 3], [10, 13, 12], [23, 13, 5], [11, 14, 17], [11, 15, 9], [21, 15, 6], [28, 15, 2], [11, 16, 11], [23, 16, 4], [11, 17, 14], [12, 18, 11], [12, 19, 12], [13, 20, 9], [15, 21, 3], [22, 21, 1], [16, 22, 2], [16, 23, 2], [20, 23, 1], [23, 23, 1], [18, 24, 3], [21, 25, 1], [22, 26, 1]]\n}];\n\nvar mergeBounds = function mergeBounds(bounds1, bounds2) {\n  return [bounds1 ? Math.min(bounds1[0], bounds2[0]) : bounds2[0], bounds1 ? Math.min(bounds1[1], bounds2[1]) : bounds2[1], bounds1 ? Math.max(bounds1[2], bounds2[2]) : bounds2[2], bounds1 ? Math.max(bounds1[3], bounds2[3]) : bounds2[3]];\n};\n\nvar midPoint = function midPoint(bounds) {\n  return [bounds[0] + (bounds[2] - bounds[0]) / 2, bounds[1] + (bounds[3] - bounds[1]) / 2];\n}; // from https://stackoverflow.com/a/14457180/8513067\n\n\nvar latLonToCoord = function latLonToCoord(_ref) {\n  var lat = _ref[0],\n      lon = _ref[1];\n  var scaledLon = lon * LON_SCALE;\n  var x = Math.round((scaledLon + 180) * (WIDTH / 360)); // adjust more extreme latitudes to fit with the map dots better\n\n  var scaledLat = lat * (lat > 60 || lat < -50 ? LAT_EXTREME_SCALE : LAT_SCALE);\n  var latRad = scaledLat * Math.PI / 180;\n  var mercN = Math.log(Math.tan(Math.PI / 4 + latRad / 2));\n  var y = Math.round(EQUATOR_Y - WIDTH * mercN / (2 * Math.PI));\n  return [x + X_OFFSET, y + Y_OFFSET];\n};\n\nvar coordToLatLon = function coordToLatLon(_ref2) {\n  var x = _ref2[0],\n      y = _ref2[1];\n  var mercN = (EQUATOR_Y - (y - Y_OFFSET)) * (2 * Math.PI) / WIDTH;\n  var latRad = (Math.atan(Math.exp(mercN)) - Math.PI / 4) * 2;\n  var scaledLat = latRad * 180 / Math.PI / LAT_SCALE; // adjust more extreme latitudes to fit with the map dots better\n\n  var lat = scaledLat / (scaledLat > 60 || scaledLat < -50 ? LAT_EXTREME_SCALE : LAT_SCALE);\n  var lon = (x - X_OFFSET) * 360 / WIDTH - 180;\n  return [lat, lon];\n};\n\nvar buildContinent = function buildContinent(_ref3) {\n  var areaProp = _ref3.area,\n      dotsProp = _ref3.dots,\n      name = _ref3.name,\n      origin = _ref3.origin;\n  var bounds = [origin[0], origin[1], origin[0], origin[1]];\n  var dots = dotsProp.map(function (segment) {\n    var count = segment[2];\n    var spots = [];\n\n    for (var i = 0; i < count; i += 1) {\n      spots.push('h0');\n    }\n\n    var dotCommands = spots.join(' m10,0 ');\n    var x = FACTOR * (origin[0] + segment[0] + 1);\n    var y = FACTOR * (origin[1] + segment[1] + 1);\n    bounds = mergeBounds(bounds, [origin[0], origin[1], origin[0] + segment[0] + segment[2], origin[1] + segment[1]]);\n    return \"M\" + x + \",\" + y + \" \" + dotCommands;\n  }).join(' ');\n  var area = areaProp.map(function (point, index) {\n    var x = FACTOR * (point[0] + origin[0] + 1);\n    var y = FACTOR * (point[1] + origin[1] + 1);\n    return \"\" + (index === 0 ? 'M' : 'L') + x + \",\" + y;\n  }).join(' ') + \" Z\";\n  var mid = midPoint(bounds);\n  return {\n    area: area,\n    dots: dots,\n    name: name,\n    origin: origin,\n    bounds: bounds,\n    mid: mid\n  };\n};\n\nvar buildWorld = function buildWorld() {\n  // Build the SVG paths describing the individual dots\n  var continents = CONTINENTS.map(buildContinent);\n  var bounds;\n  continents.forEach(function (continent) {\n    bounds = mergeBounds(bounds, continent.bounds);\n  });\n  return {\n    continents: continents,\n    bounds: bounds,\n    x: bounds[0] * FACTOR,\n    y: bounds[1] * FACTOR,\n    width: (bounds[2] - bounds[0] + 1) * FACTOR,\n    height: (bounds[3] - bounds[1] + 2) * FACTOR\n  };\n};\n\nvar buildInteractiveProps = function buildInteractiveProps(_ref4, activeFunc, active) {\n  var name = _ref4.name,\n      onClick = _ref4.onClick,\n      onHover = _ref4.onHover;\n  return {\n    role: 'button',\n    'aria-label': name,\n    tabIndex: '0',\n    onClick: onClick ? function () {\n      return onClick(name);\n    } : undefined,\n    onMouseOver: function onMouseOver() {\n      if (!active) {\n        activeFunc(name);\n\n        if (onHover) {\n          onHover(true);\n        }\n      }\n    },\n    onMouseLeave: function onMouseLeave() {\n      if (active) {\n        activeFunc(undefined);\n\n        if (onHover) {\n          onHover(false);\n        }\n      }\n    },\n    onFocus: function onFocus() {\n      // This moves the map unnecessarily. Instead, we should check\n      // the position and scroll if it isn't already visible\n      // this._worldMapRef.scrollIntoView();\n      if (!active) {\n        activeFunc(name);\n      }\n    },\n    onBlur: function onBlur() {\n      if (active) {\n        activeFunc(undefined);\n      }\n    }\n  };\n};\n\nvar WorldMap = /*#__PURE__*/forwardRef(function (_ref5, ref) {\n  var fill = _ref5.fill,\n      color = _ref5.color,\n      continentsProp = _ref5.continents,\n      hoverColor = _ref5.hoverColor,\n      onSelectPlace = _ref5.onSelectPlace,\n      placesProp = _ref5.places,\n      rest = _objectWithoutPropertiesLoose(_ref5, _excluded);\n\n  var theme = React.useContext(ThemeContext);\n  var world = React.useMemo(buildWorld, []);\n\n  var _React$useState = React.useState({}),\n      continents = _React$useState[0],\n      setContinents = _React$useState[1];\n\n  React.useEffect(function () {\n    if (continentsProp) {\n      setContinents(continentsProp.reduce(function (obj, continent) {\n        // eslint-disable-next-line no-param-reassign\n        obj[continent.name] = continent;\n        return obj;\n      }, {}));\n    } else setContinents({});\n  }, [continentsProp]);\n\n  var _React$useState2 = React.useState([]),\n      places = _React$useState2[0],\n      setPlaces = _React$useState2[1];\n\n  React.useEffect(function () {\n    if (placesProp) {\n      setPlaces(placesProp.map(function (_ref6) {\n        var location = _ref6.location,\n            place = _objectWithoutPropertiesLoose(_ref6, _excluded2);\n\n        var coords = latLonToCoord(location);\n        return _extends({\n          coords: coords,\n          key: location.join(',')\n        }, place);\n      }));\n    } else setPlaces([]);\n  }, [placesProp, world]);\n\n  var _React$useState3 = React.useState(),\n      over = _React$useState3[0],\n      setOver = _React$useState3[1];\n\n  var _React$useState4 = React.useState(),\n      activeCoords = _React$useState4[0],\n      setActiveCoords = _React$useState4[1];\n\n  var _React$useState5 = React.useState(),\n      activeContinent = _React$useState5[0],\n      setActiveContinent = _React$useState5[1];\n\n  var _React$useState6 = React.useState(),\n      activePlace = _React$useState6[0],\n      setActivePlace = _React$useState6[1];\n\n  var containerRef = React.useRef(); // targets are used for the Drops associated with places content\n\n  var _React$useState7 = React.useState([]),\n      targets = _React$useState7[0],\n      setTargets = _React$useState7[1];\n\n  var placeRef = React.useCallback(function (node, index) {\n    setTargets(function (prevTargets) {\n      if (!prevTargets[index]) {\n        var nextTargets = [].concat(prevTargets);\n        nextTargets[index] = node;\n        return nextTargets;\n      }\n\n      return prevTargets;\n    });\n  }, []);\n  var onMouseMove = React.useCallback(function (event) {\n    // determine the map coordinates for where the mouse is\n    // containerRef uses the group so we can handle aspect ratio scaling\n    var rect = containerRef.current.getBoundingClientRect(); // since the SVG viewBox might be scaled\n\n    var scale = rect.width / world.width;\n    var coords = [Math.round((event.clientX - rect.left) / scale / FACTOR), Math.round((event.clientY - rect.top) / scale / FACTOR)];\n    setActiveCoords(coords);\n  }, [world.width]);\n  var continentElements = world.continents.map(function (_ref7) {\n    var area = _ref7.area,\n        dots = _ref7.dots,\n        name = _ref7.name;\n\n    var _ref8 = continents[name] || {},\n        continentColor = _ref8.color,\n        onClick = _ref8.onClick,\n        onHover = _ref8.onHover,\n        restContinents = _objectWithoutPropertiesLoose(_ref8, _excluded3);\n\n    var active = activeContinent && activeContinent === name;\n    var interactiveProps = {};\n\n    if (onClick || onHover) {\n      interactiveProps = buildInteractiveProps(continents[name], function (activate) {\n        return setActiveContinent(activate);\n      }, active);\n    }\n\n    return /*#__PURE__*/React.createElement(\"g\", _extends({\n      key: name\n    }, interactiveProps, restContinents), /*#__PURE__*/React.createElement(\"path\", {\n      stroke: \"none\",\n      fill: \"#fff\",\n      fillOpacity: \"0.01\",\n      d: area\n    }), /*#__PURE__*/React.createElement(\"path\", {\n      d: dots,\n      strokeLinecap: \"round\",\n      strokeWidth: parseMetricToNum(theme.worldMap.continent[active ? 'active' : 'base']),\n      stroke: normalizeColor(continentColor || color || theme.worldMap.color, theme)\n    }));\n  });\n  var placesContent = [];\n  var placeElements = places.map(function (place, index) {\n    var placeColor = place.color,\n        coords = place.coords,\n        content = place.content,\n        dropProps = place.dropProps,\n        key = place.key,\n        name = place.name,\n        onClick = place.onClick,\n        onHover = place.onHover,\n        restPlace = _objectWithoutPropertiesLoose(place, _excluded4);\n\n    var d = \"M\" + FACTOR * coords[0] + \", \" + FACTOR * coords[1] + \" h0\";\n    var active = activePlace && activePlace === name;\n    var interactiveProps = {};\n\n    if (onClick || onHover) {\n      interactiveProps = buildInteractiveProps(place, function (activate) {\n        return setActivePlace(activate);\n      }, active);\n    }\n\n    if (content && targets[index]) {\n      placesContent.push( /*#__PURE__*/React.createElement(Drop, _extends({\n        key: key || name\n      }, dropProps, {\n        target: targets[index]\n      }), content));\n    }\n\n    return /*#__PURE__*/React.createElement(\"path\", _extends({\n      key: key,\n      ref: function ref(node) {\n        return placeRef(node, index);\n      },\n      strokeLinecap: \"round\",\n      strokeWidth: parseMetricToNum(theme.worldMap.place[active ? 'active' : 'base']),\n      stroke: normalizeColor(placeColor || color || theme.worldMap.color, theme)\n    }, interactiveProps, restPlace, {\n      d: d\n    }));\n  }); // If the caller is interested in onSelectPlace changes, track where the\n\n  var interactiveProps = {};\n\n  if (onSelectPlace) {\n    interactiveProps = {\n      onMouseOver: function onMouseOver() {\n        return setOver(true);\n      },\n      onMouseMove: over ? onMouseMove : undefined,\n      onMouseLeave: function onMouseLeave() {\n        setOver(false);\n        setActiveCoords(undefined);\n      }\n    };\n  }\n\n  var active;\n\n  if (activeCoords) {\n    var d = \"M\" + FACTOR * activeCoords[0] + \", \" + FACTOR * activeCoords[1] + \" h0\";\n    active = /*#__PURE__*/React.createElement(\"g\", {\n      stroke: \"none\",\n      fill: \"none\",\n      fillRule: \"evenodd\",\n      onClick: function onClick() {\n        return onSelectPlace(coordToLatLon(activeCoords, world.bounds));\n      }\n    }, /*#__PURE__*/React.createElement(\"path\", {\n      strokeLinecap: \"round\",\n      strokeWidth: parseMetricToNum(theme.worldMap.place.active),\n      stroke: normalizeColor(hoverColor || color || theme.worldMap.hover.color, theme),\n      d: d\n    }));\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(StyledWorldMap, _extends({\n    ref: ref,\n    viewBox: world.x + \" \" + world.y + \" \" + world.width + \" \" + world.height,\n    preserveAspectRatio: \"xMinYMin meet\",\n    fillProp: fill,\n    width: world.width,\n    height: world.height\n  }, interactiveProps, rest), /*#__PURE__*/React.createElement(\"g\", {\n    ref: containerRef,\n    stroke: \"none\",\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, continentElements), placeElements, active), placesContent);\n});\nWorldMap.displayName = 'WorldMap';\nWorldMap.defaultProps = {};\nObject.setPrototypeOf(WorldMap.defaultProps, defaultProps);\nWorldMap.propTypes = WorldMapPropTypes;\nexport { WorldMap };","map":{"version":3,"names":["_excluded","_excluded2","_excluded3","_excluded4","_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf","React","forwardRef","ThemeContext","Drop","defaultProps","normalizeColor","parseMetricToNum","StyledWorldMap","WorldMapPropTypes","FACTOR","EQUATOR_Y","WIDTH","LAT_SCALE","LAT_EXTREME_SCALE","LON_SCALE","X_OFFSET","Y_OFFSET","CONTINENTS","name","origin","area","dots","mergeBounds","bounds1","bounds2","Math","min","max","midPoint","bounds","latLonToCoord","_ref","lat","lon","scaledLon","x","round","scaledLat","latRad","PI","mercN","log","tan","y","coordToLatLon","_ref2","atan","exp","buildContinent","_ref3","areaProp","dotsProp","map","segment","count","spots","push","dotCommands","join","point","index","mid","buildWorld","continents","forEach","continent","width","height","buildInteractiveProps","_ref4","activeFunc","active","onClick","onHover","role","tabIndex","undefined","onMouseOver","onMouseLeave","onFocus","onBlur","WorldMap","_ref5","ref","fill","color","continentsProp","hoverColor","onSelectPlace","placesProp","places","rest","theme","useContext","world","useMemo","_React$useState","useState","setContinents","useEffect","reduce","obj","_React$useState2","setPlaces","_ref6","location","place","coords","_React$useState3","over","setOver","_React$useState4","activeCoords","setActiveCoords","_React$useState5","activeContinent","setActiveContinent","_React$useState6","activePlace","setActivePlace","containerRef","useRef","_React$useState7","targets","setTargets","placeRef","useCallback","node","prevTargets","nextTargets","concat","onMouseMove","event","rect","current","getBoundingClientRect","scale","clientX","left","clientY","top","continentElements","_ref7","_ref8","continentColor","restContinents","interactiveProps","activate","createElement","stroke","fillOpacity","d","strokeLinecap","strokeWidth","worldMap","placesContent","placeElements","placeColor","content","dropProps","restPlace","fillRule","hover","Fragment","viewBox","preserveAspectRatio","fillProp","displayName","setPrototypeOf","propTypes"],"sources":["/Users/siddharthkhatri/Developer/React JS/phone-book/client/node_modules/grommet/es6/components/WorldMap/WorldMap.js"],"sourcesContent":["var _excluded = [\"fill\", \"color\", \"continents\", \"hoverColor\", \"onSelectPlace\", \"places\"],\n    _excluded2 = [\"location\"],\n    _excluded3 = [\"color\", \"onClick\", \"onHover\"],\n    _excluded4 = [\"color\", \"coords\", \"content\", \"dropProps\", \"key\", \"name\", \"onClick\", \"onHover\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport { ThemeContext } from 'styled-components';\nimport { Drop } from '../Drop';\nimport { defaultProps } from '../../default-props';\nimport { normalizeColor, parseMetricToNum } from '../../utils';\nimport { StyledWorldMap } from './StyledWorldMap';\nimport { WorldMapPropTypes } from './propTypes'; // The graphic is drawn as a rectangular grid using coordinates spaced\n// by FACTOR pixels.\n\nvar FACTOR = 10; // Mapping constants between coordinates and latitude+longitude.\n// The map coordinate space isn't precisely a mercator projection. So,\n// we have a few adjustments that we've empirically determined. The following\n// cities were used to make the empirical determinations:\n// London (0 lon), Quito (0 lat), Nome (far west), Sydney (far east),\n// Svalbard (far north), Ushuaia (far south).\n// These map to reality, they aren't adjusted.\n\nvar EQUATOR_Y = 32;\nvar WIDTH = 93; // Scale the latitude and longitude to align better with actual locations.\n\nvar LAT_SCALE = 0.98; // adjust more extreme latitudes to fit with the map dots better\n\nvar LAT_EXTREME_SCALE = 0.91;\nvar LON_SCALE = 0.99; // We shift the map coordinates to align better with actual locations.\n\nvar X_OFFSET = -2;\nvar Y_OFFSET = -2; // The continents have both an area boundary for interaction\n// and dots described as rows where each row is described by three values:\n// a starting coordinate and a length. This approach is more efficient than\n// describing it via SVG elements, keeping the code/library size smaller.\n\nvar CONTINENTS = [{\n  name: 'Australia',\n  origin: [74, 32],\n  area: [[4, 0], [7, 1], [15, 7], [13, 9], [8, 8], [0, 6], [0, 2]],\n  dots: [[4, 0, 1], [2, 1, 6], [0, 2, 9], [0, 3, 10], [0, 4, 10], [0, 5, 3], [5, 5, 5], [5, 6, 4], [8, 8, 1], [15, 7, 1], [14, 8, 1], [13, 9, 1]]\n}, {\n  name: 'Asia',\n  origin: [52, 1],\n  area: [[16, 0], [38, 5], [40, 7], [28, 17], [24, 25], [29, 29], [19, 29], [11, 24], [3, 23], [0, 20], [0, 19], [6, 13], [7, 6]],\n  dots: [[16, 0, 1], [17, 1, 2], [18, 2, 2], [15, 3, 6], [28, 3, 1], [30, 3, 1], [10, 4, 2], [13, 4, 10], [24, 4, 1], [9, 5, 22], [32, 5, 1], [38, 5, 1], [7, 6, 2], [10, 6, 1], [12, 6, 27], [7, 7, 34], [7, 8, 31], [7, 9, 26], [34, 9, 3], [7, 10, 22], [31, 10, 1], [33, 10, 1], [7, 11, 21], [32, 11, 2], [7, 12, 21], [32, 12, 1], [6, 13, 22], [32, 13, 1], [6, 14, 22], [5, 15, 22], [3, 16, 2], [6, 16, 20], [2, 17, 3], [6, 17, 16], [24, 17, 1], [28, 17, 1], [1, 18, 22], [26, 18, 2], [0, 19, 24], [0, 20, 5], [6, 20, 17], [2, 21, 5], [10, 21, 14], [2, 22, 5], [11, 22, 4], [16, 22, 4], [3, 23, 3], [11, 23, 2], [17, 23, 3], [23, 23, 1], [11, 24, 2], [18, 24, 2], [23, 24, 1], [24, 25, 1], [18, 26, 1], [22, 26, 1], [18, 27, 1], [20, 27, 4], [18, 28, 1], [21, 28, 1], [23, 28, 1], [26, 28, 3], [19, 29, 1], [28, 29, 2]]\n}, {\n  name: 'Africa',\n  origin: [40, 19],\n  area: [[3, 0], [6, 0], [11, 2], [16, 7], [16, 15], [11, 18], [9, 18], [0, 6], [0, 3]],\n  dots: [[3, 0, 4], [2, 1, 6], [9, 1, 2], [1, 2, 11], [0, 3, 13], [0, 4, 14], [0, 5, 14], [0, 6, 16], [1, 7, 16], [2, 8, 2], [6, 8, 11], [7, 9, 9], [7, 10, 8], [7, 11, 7], [8, 12, 7], [7, 13, 8], [7, 14, 7], [16, 14, 1], [8, 15, 5], [15, 15, 2], [8, 16, 5], [9, 17, 3], [9, 18, 3]]\n}, {\n  name: 'Europe',\n  origin: [39, 2],\n  area: [[8, 0], [10, 0], [20, 2], [19, 11], [18, 13], [14, 16], [3, 16], [0, 7]],\n  dots: [[8, 0, 3], [9, 1, 1], [20, 2, 1], [19, 3, 1], [12, 4, 1], [19, 4, 1], [9, 5, 6], [9, 6, 7], [17, 6, 3], [0, 7, 1], [8, 7, 12], [7, 8, 3], [11, 8, 9], [7, 9, 3], [11, 9, 9], [4, 10, 1], [7, 10, 1], [9, 10, 1], [11, 10, 9], [3, 11, 2], [7, 11, 13], [4, 12, 1], [6, 12, 13], [4, 13, 15], [5, 14, 3], [9, 14, 4], [15, 14, 2], [3, 15, 3], [8, 15, 1], [10, 15, 5], [6, 15, 2], [3, 16, 2], [10, 16, 5]]\n}, {\n  name: 'South America',\n  origin: [22, 26],\n  area: [[2, 0], [5, 0], [11, 4], [11, 8], [3, 18], [2, 17], [0, 4], [0, 3]],\n  dots: [[2, 0, 4], [1, 1, 7], [1, 2, 7], [0, 3, 10], [0, 4, 12], [1, 5, 11], [2, 6, 9], [3, 7, 8], [3, 8, 8], [3, 9, 6], [3, 10, 6], [3, 11, 5], [3, 12, 3], [2, 13, 3], [2, 14, 3], [2, 15, 2], [2, 16, 2], [2, 17, 2], [3, 18, 1]]\n}, {\n  name: 'North America',\n  origin: [0, 0],\n  area: [[21, 0], [39, 0], [39, 6], [22, 26], [16, 23], [2, 12], [0, 7]],\n  dots: [[22, 0, 6], [29, 0, 1], [31, 0, 1], [33, 0, 5], [20, 1, 1], [22, 1, 1], [24, 1, 2], [27, 1, 13], [17, 2, 1], [20, 2, 5], [26, 2, 13], [13, 3, 1], [19, 3, 1], [21, 3, 3], [26, 3, 14], [14, 4, 1], [16, 4, 4], [21, 4, 3], [29, 4, 11], [12, 5, 3], [16, 5, 1], [18, 5, 1], [20, 5, 3], [24, 5, 1], [30, 5, 8], [14, 6, 3], [19, 6, 1], [22, 6, 4], [31, 6, 8], [0, 7, 15], [16, 7, 1], [18, 7, 4], [24, 7, 2], [30, 7, 7], [2, 8, 20], [24, 8, 3], [29, 8, 5], [2, 9, 20], [24, 9, 2], [30, 9, 3], [1, 10, 18], [23, 10, 2], [31, 10, 1], [2, 11, 2], [8, 11, 11], [23, 11, 2], [26, 11, 1], [2, 12, 1], [8, 12, 13], [24, 12, 3], [10, 13, 12], [23, 13, 5], [11, 14, 17], [11, 15, 9], [21, 15, 6], [28, 15, 2], [11, 16, 11], [23, 16, 4], [11, 17, 14], [12, 18, 11], [12, 19, 12], [13, 20, 9], [15, 21, 3], [22, 21, 1], [16, 22, 2], [16, 23, 2], [20, 23, 1], [23, 23, 1], [18, 24, 3], [21, 25, 1], [22, 26, 1]]\n}];\n\nvar mergeBounds = function mergeBounds(bounds1, bounds2) {\n  return [bounds1 ? Math.min(bounds1[0], bounds2[0]) : bounds2[0], bounds1 ? Math.min(bounds1[1], bounds2[1]) : bounds2[1], bounds1 ? Math.max(bounds1[2], bounds2[2]) : bounds2[2], bounds1 ? Math.max(bounds1[3], bounds2[3]) : bounds2[3]];\n};\n\nvar midPoint = function midPoint(bounds) {\n  return [bounds[0] + (bounds[2] - bounds[0]) / 2, bounds[1] + (bounds[3] - bounds[1]) / 2];\n}; // from https://stackoverflow.com/a/14457180/8513067\n\n\nvar latLonToCoord = function latLonToCoord(_ref) {\n  var lat = _ref[0],\n      lon = _ref[1];\n  var scaledLon = lon * LON_SCALE;\n  var x = Math.round((scaledLon + 180) * (WIDTH / 360)); // adjust more extreme latitudes to fit with the map dots better\n\n  var scaledLat = lat * (lat > 60 || lat < -50 ? LAT_EXTREME_SCALE : LAT_SCALE);\n  var latRad = scaledLat * Math.PI / 180;\n  var mercN = Math.log(Math.tan(Math.PI / 4 + latRad / 2));\n  var y = Math.round(EQUATOR_Y - WIDTH * mercN / (2 * Math.PI));\n  return [x + X_OFFSET, y + Y_OFFSET];\n};\n\nvar coordToLatLon = function coordToLatLon(_ref2) {\n  var x = _ref2[0],\n      y = _ref2[1];\n  var mercN = (EQUATOR_Y - (y - Y_OFFSET)) * (2 * Math.PI) / WIDTH;\n  var latRad = (Math.atan(Math.exp(mercN)) - Math.PI / 4) * 2;\n  var scaledLat = latRad * 180 / Math.PI / LAT_SCALE; // adjust more extreme latitudes to fit with the map dots better\n\n  var lat = scaledLat / (scaledLat > 60 || scaledLat < -50 ? LAT_EXTREME_SCALE : LAT_SCALE);\n  var lon = (x - X_OFFSET) * 360 / WIDTH - 180;\n  return [lat, lon];\n};\n\nvar buildContinent = function buildContinent(_ref3) {\n  var areaProp = _ref3.area,\n      dotsProp = _ref3.dots,\n      name = _ref3.name,\n      origin = _ref3.origin;\n  var bounds = [origin[0], origin[1], origin[0], origin[1]];\n  var dots = dotsProp.map(function (segment) {\n    var count = segment[2];\n    var spots = [];\n\n    for (var i = 0; i < count; i += 1) {\n      spots.push('h0');\n    }\n\n    var dotCommands = spots.join(' m10,0 ');\n    var x = FACTOR * (origin[0] + segment[0] + 1);\n    var y = FACTOR * (origin[1] + segment[1] + 1);\n    bounds = mergeBounds(bounds, [origin[0], origin[1], origin[0] + segment[0] + segment[2], origin[1] + segment[1]]);\n    return \"M\" + x + \",\" + y + \" \" + dotCommands;\n  }).join(' ');\n  var area = areaProp.map(function (point, index) {\n    var x = FACTOR * (point[0] + origin[0] + 1);\n    var y = FACTOR * (point[1] + origin[1] + 1);\n    return \"\" + (index === 0 ? 'M' : 'L') + x + \",\" + y;\n  }).join(' ') + \" Z\";\n  var mid = midPoint(bounds);\n  return {\n    area: area,\n    dots: dots,\n    name: name,\n    origin: origin,\n    bounds: bounds,\n    mid: mid\n  };\n};\n\nvar buildWorld = function buildWorld() {\n  // Build the SVG paths describing the individual dots\n  var continents = CONTINENTS.map(buildContinent);\n  var bounds;\n  continents.forEach(function (continent) {\n    bounds = mergeBounds(bounds, continent.bounds);\n  });\n  return {\n    continents: continents,\n    bounds: bounds,\n    x: bounds[0] * FACTOR,\n    y: bounds[1] * FACTOR,\n    width: (bounds[2] - bounds[0] + 1) * FACTOR,\n    height: (bounds[3] - bounds[1] + 2) * FACTOR\n  };\n};\n\nvar buildInteractiveProps = function buildInteractiveProps(_ref4, activeFunc, active) {\n  var name = _ref4.name,\n      onClick = _ref4.onClick,\n      onHover = _ref4.onHover;\n  return {\n    role: 'button',\n    'aria-label': name,\n    tabIndex: '0',\n    onClick: onClick ? function () {\n      return onClick(name);\n    } : undefined,\n    onMouseOver: function onMouseOver() {\n      if (!active) {\n        activeFunc(name);\n\n        if (onHover) {\n          onHover(true);\n        }\n      }\n    },\n    onMouseLeave: function onMouseLeave() {\n      if (active) {\n        activeFunc(undefined);\n\n        if (onHover) {\n          onHover(false);\n        }\n      }\n    },\n    onFocus: function onFocus() {\n      // This moves the map unnecessarily. Instead, we should check\n      // the position and scroll if it isn't already visible\n      // this._worldMapRef.scrollIntoView();\n      if (!active) {\n        activeFunc(name);\n      }\n    },\n    onBlur: function onBlur() {\n      if (active) {\n        activeFunc(undefined);\n      }\n    }\n  };\n};\n\nvar WorldMap = /*#__PURE__*/forwardRef(function (_ref5, ref) {\n  var fill = _ref5.fill,\n      color = _ref5.color,\n      continentsProp = _ref5.continents,\n      hoverColor = _ref5.hoverColor,\n      onSelectPlace = _ref5.onSelectPlace,\n      placesProp = _ref5.places,\n      rest = _objectWithoutPropertiesLoose(_ref5, _excluded);\n\n  var theme = React.useContext(ThemeContext);\n  var world = React.useMemo(buildWorld, []);\n\n  var _React$useState = React.useState({}),\n      continents = _React$useState[0],\n      setContinents = _React$useState[1];\n\n  React.useEffect(function () {\n    if (continentsProp) {\n      setContinents(continentsProp.reduce(function (obj, continent) {\n        // eslint-disable-next-line no-param-reassign\n        obj[continent.name] = continent;\n        return obj;\n      }, {}));\n    } else setContinents({});\n  }, [continentsProp]);\n\n  var _React$useState2 = React.useState([]),\n      places = _React$useState2[0],\n      setPlaces = _React$useState2[1];\n\n  React.useEffect(function () {\n    if (placesProp) {\n      setPlaces(placesProp.map(function (_ref6) {\n        var location = _ref6.location,\n            place = _objectWithoutPropertiesLoose(_ref6, _excluded2);\n\n        var coords = latLonToCoord(location);\n        return _extends({\n          coords: coords,\n          key: location.join(',')\n        }, place);\n      }));\n    } else setPlaces([]);\n  }, [placesProp, world]);\n\n  var _React$useState3 = React.useState(),\n      over = _React$useState3[0],\n      setOver = _React$useState3[1];\n\n  var _React$useState4 = React.useState(),\n      activeCoords = _React$useState4[0],\n      setActiveCoords = _React$useState4[1];\n\n  var _React$useState5 = React.useState(),\n      activeContinent = _React$useState5[0],\n      setActiveContinent = _React$useState5[1];\n\n  var _React$useState6 = React.useState(),\n      activePlace = _React$useState6[0],\n      setActivePlace = _React$useState6[1];\n\n  var containerRef = React.useRef(); // targets are used for the Drops associated with places content\n\n  var _React$useState7 = React.useState([]),\n      targets = _React$useState7[0],\n      setTargets = _React$useState7[1];\n\n  var placeRef = React.useCallback(function (node, index) {\n    setTargets(function (prevTargets) {\n      if (!prevTargets[index]) {\n        var nextTargets = [].concat(prevTargets);\n        nextTargets[index] = node;\n        return nextTargets;\n      }\n\n      return prevTargets;\n    });\n  }, []);\n  var onMouseMove = React.useCallback(function (event) {\n    // determine the map coordinates for where the mouse is\n    // containerRef uses the group so we can handle aspect ratio scaling\n    var rect = containerRef.current.getBoundingClientRect(); // since the SVG viewBox might be scaled\n\n    var scale = rect.width / world.width;\n    var coords = [Math.round((event.clientX - rect.left) / scale / FACTOR), Math.round((event.clientY - rect.top) / scale / FACTOR)];\n    setActiveCoords(coords);\n  }, [world.width]);\n  var continentElements = world.continents.map(function (_ref7) {\n    var area = _ref7.area,\n        dots = _ref7.dots,\n        name = _ref7.name;\n\n    var _ref8 = continents[name] || {},\n        continentColor = _ref8.color,\n        onClick = _ref8.onClick,\n        onHover = _ref8.onHover,\n        restContinents = _objectWithoutPropertiesLoose(_ref8, _excluded3);\n\n    var active = activeContinent && activeContinent === name;\n    var interactiveProps = {};\n\n    if (onClick || onHover) {\n      interactiveProps = buildInteractiveProps(continents[name], function (activate) {\n        return setActiveContinent(activate);\n      }, active);\n    }\n\n    return /*#__PURE__*/React.createElement(\"g\", _extends({\n      key: name\n    }, interactiveProps, restContinents), /*#__PURE__*/React.createElement(\"path\", {\n      stroke: \"none\",\n      fill: \"#fff\",\n      fillOpacity: \"0.01\",\n      d: area\n    }), /*#__PURE__*/React.createElement(\"path\", {\n      d: dots,\n      strokeLinecap: \"round\",\n      strokeWidth: parseMetricToNum(theme.worldMap.continent[active ? 'active' : 'base']),\n      stroke: normalizeColor(continentColor || color || theme.worldMap.color, theme)\n    }));\n  });\n  var placesContent = [];\n  var placeElements = places.map(function (place, index) {\n    var placeColor = place.color,\n        coords = place.coords,\n        content = place.content,\n        dropProps = place.dropProps,\n        key = place.key,\n        name = place.name,\n        onClick = place.onClick,\n        onHover = place.onHover,\n        restPlace = _objectWithoutPropertiesLoose(place, _excluded4);\n\n    var d = \"M\" + FACTOR * coords[0] + \", \" + FACTOR * coords[1] + \" h0\";\n    var active = activePlace && activePlace === name;\n    var interactiveProps = {};\n\n    if (onClick || onHover) {\n      interactiveProps = buildInteractiveProps(place, function (activate) {\n        return setActivePlace(activate);\n      }, active);\n    }\n\n    if (content && targets[index]) {\n      placesContent.push( /*#__PURE__*/React.createElement(Drop, _extends({\n        key: key || name\n      }, dropProps, {\n        target: targets[index]\n      }), content));\n    }\n\n    return /*#__PURE__*/React.createElement(\"path\", _extends({\n      key: key,\n      ref: function ref(node) {\n        return placeRef(node, index);\n      },\n      strokeLinecap: \"round\",\n      strokeWidth: parseMetricToNum(theme.worldMap.place[active ? 'active' : 'base']),\n      stroke: normalizeColor(placeColor || color || theme.worldMap.color, theme)\n    }, interactiveProps, restPlace, {\n      d: d\n    }));\n  }); // If the caller is interested in onSelectPlace changes, track where the\n\n  var interactiveProps = {};\n\n  if (onSelectPlace) {\n    interactiveProps = {\n      onMouseOver: function onMouseOver() {\n        return setOver(true);\n      },\n      onMouseMove: over ? onMouseMove : undefined,\n      onMouseLeave: function onMouseLeave() {\n        setOver(false);\n        setActiveCoords(undefined);\n      }\n    };\n  }\n\n  var active;\n\n  if (activeCoords) {\n    var d = \"M\" + FACTOR * activeCoords[0] + \", \" + FACTOR * activeCoords[1] + \" h0\";\n    active = /*#__PURE__*/React.createElement(\"g\", {\n      stroke: \"none\",\n      fill: \"none\",\n      fillRule: \"evenodd\",\n      onClick: function onClick() {\n        return onSelectPlace(coordToLatLon(activeCoords, world.bounds));\n      }\n    }, /*#__PURE__*/React.createElement(\"path\", {\n      strokeLinecap: \"round\",\n      strokeWidth: parseMetricToNum(theme.worldMap.place.active),\n      stroke: normalizeColor(hoverColor || color || theme.worldMap.hover.color, theme),\n      d: d\n    }));\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(StyledWorldMap, _extends({\n    ref: ref,\n    viewBox: world.x + \" \" + world.y + \" \" + world.width + \" \" + world.height,\n    preserveAspectRatio: \"xMinYMin meet\",\n    fillProp: fill,\n    width: world.width,\n    height: world.height\n  }, interactiveProps, rest), /*#__PURE__*/React.createElement(\"g\", {\n    ref: containerRef,\n    stroke: \"none\",\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, continentElements), placeElements, active), placesContent);\n});\nWorldMap.displayName = 'WorldMap';\nWorldMap.defaultProps = {};\nObject.setPrototypeOf(WorldMap.defaultProps, defaultProps);\nWorldMap.propTypes = WorldMapPropTypes;\nexport { WorldMap };"],"mappings":"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"},"metadata":{},"sourceType":"module"}