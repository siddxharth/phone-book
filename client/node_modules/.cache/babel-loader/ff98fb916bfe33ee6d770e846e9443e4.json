{"ast":null,"code":"var _excluded = [\"a11yTitle\", \"aria-label\", \"alignSelf\", \"children\", \"clear\", \"closeOnChange\", \"defaultValue\", \"disabled\", \"disabledKey\", \"dropAlign\", \"dropHeight\", \"dropProps\", \"dropTarget\", \"emptySearchMessage\", \"focusIndicator\", \"gridArea\", \"id\", \"icon\", \"labelKey\", \"margin\", \"messages\", \"multiple\", \"name\", \"onBlur\", \"onChange\", \"onClick\", \"onClose\", \"onFocus\", \"onKeyDown\", \"onMore\", \"onOpen\", \"onSearch\", \"open\", \"options\", \"placeholder\", \"plain\", \"replace\", \"searchPlaceholder\", \"selected\", \"size\", \"value\", \"valueKey\", \"valueLabel\"];\n\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nimport React, { forwardRef, isValidElement, useCallback, useContext, useMemo, useState, useRef, useEffect } from 'react';\nimport styled, { ThemeContext } from 'styled-components';\nimport { controlBorderStyle, normalizeColor, useKeyboard } from '../../utils';\nimport { defaultProps } from '../../default-props';\nimport { Box } from '../Box';\nimport { DropButton } from '../DropButton';\nimport { Keyboard } from '../Keyboard';\nimport { FormContext } from '../Form/FormContext';\nimport { TextInput } from '../TextInput';\nimport { SelectContainer } from './SelectContainer';\nimport { applyKey } from './utils';\nimport { MessageContext } from '../../contexts/MessageContext';\nimport { SelectPropTypes } from './propTypes';\nvar SelectTextInput = styled(TextInput).withConfig({\n  displayName: \"Select__SelectTextInput\",\n  componentId: \"sc-17idtfo-0\"\n})([\"cursor:\", \";\"], function (props) {\n  return props.defaultCursor ? 'default' : 'pointer';\n});\nvar HiddenInput = styled.input.withConfig({\n  displayName: \"Select__HiddenInput\",\n  componentId: \"sc-17idtfo-1\"\n})([\"display:none;\"]);\nvar StyledSelectDropButton = styled(DropButton).withConfig({\n  displayName: \"Select__StyledSelectDropButton\",\n  componentId: \"sc-17idtfo-2\"\n})([\"\", \";\", \";\", \";\"], function (props) {\n  return !props.callerPlain && controlBorderStyle;\n}, function (props) {\n  return props.theme.select && props.theme.select.control && props.theme.select.control.extend;\n}, function (props) {\n  return props.open && props.theme.select.control.open;\n});\nStyledSelectDropButton.defaultProps = {};\nObject.setPrototypeOf(StyledSelectDropButton.defaultProps, defaultProps);\nvar defaultDropAlign = {\n  top: 'bottom',\n  left: 'left'\n};\nvar Select = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var a11yTitle = _ref.a11yTitle,\n      ariaLabel = _ref['aria-label'],\n      alignSelf = _ref.alignSelf,\n      children = _ref.children,\n      _ref$clear = _ref.clear,\n      clear = _ref$clear === void 0 ? false : _ref$clear,\n      _ref$closeOnChange = _ref.closeOnChange,\n      closeOnChange = _ref$closeOnChange === void 0 ? true : _ref$closeOnChange,\n      defaultValue = _ref.defaultValue,\n      disabled = _ref.disabled,\n      disabledKey = _ref.disabledKey,\n      _ref$dropAlign = _ref.dropAlign,\n      dropAlign = _ref$dropAlign === void 0 ? defaultDropAlign : _ref$dropAlign,\n      dropHeight = _ref.dropHeight,\n      dropProps = _ref.dropProps,\n      dropTarget = _ref.dropTarget,\n      emptySearchMessage = _ref.emptySearchMessage,\n      focusIndicator = _ref.focusIndicator,\n      gridArea = _ref.gridArea,\n      id = _ref.id,\n      icon = _ref.icon,\n      labelKey = _ref.labelKey,\n      margin = _ref.margin,\n      messages = _ref.messages,\n      multiple = _ref.multiple,\n      name = _ref.name,\n      onBlur = _ref.onBlur,\n      onChange = _ref.onChange,\n      onClick = _ref.onClick,\n      onClose = _ref.onClose,\n      onFocus = _ref.onFocus,\n      onKeyDown = _ref.onKeyDown,\n      onMore = _ref.onMore,\n      onOpen = _ref.onOpen,\n      onSearch = _ref.onSearch,\n      propOpen = _ref.open,\n      optionsProp = _ref.options,\n      placeholder = _ref.placeholder,\n      plain = _ref.plain,\n      replace = _ref.replace,\n      searchPlaceholder = _ref.searchPlaceholder,\n      selected = _ref.selected,\n      size = _ref.size,\n      valueProp = _ref.value,\n      valueKey = _ref.valueKey,\n      valueLabel = _ref.valueLabel,\n      rest = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var theme = useContext(ThemeContext) || defaultProps.theme;\n  var inputRef = useRef();\n  var formContext = useContext(FormContext);\n\n  var _useContext = useContext(MessageContext),\n      format = _useContext.format; // Determine if the Select is opened with the keyboard. If so,\n  // focus should be set on the first option when the drop opens\n  // see set initial focus code in SelectContainer.js\n\n\n  var usingKeyboard = useKeyboard(); // value is used for what we receive in valueProp and the basis for\n  // what we send with onChange\n  // When 'valueKey' sets 'reduce', the value(s) here should match\n  // what the 'valueKey' would return for the corresponding\n  // selected option object.\n  // Otherwise, the value(s) should match the selected options.\n\n  var _formContext$useFormI = formContext.useFormInput({\n    name: name,\n    value: valueProp,\n    initialValue: defaultValue || ''\n  }),\n      value = _formContext$useFormI[0],\n      setValue = _formContext$useFormI[1]; // valuedValue is the value mapped with any valueKey applied\n  // When the options array contains objects, this property indicates how\n  // to retrieve the value of each option.\n  // If a string is provided, it is used as the key to retrieve a\n  // property of an option object.\n  // If a function is provided, it is called with the option and should\n  // return the value.\n  // If reduce is true, this value will be used for the 'value'\n  // delivered via 'onChange'.\n\n\n  var valuedValue = useMemo(function () {\n    if (Array.isArray(value)) return value.map(function (v) {\n      return valueKey && valueKey.reduce ? v : applyKey(v, valueKey);\n    });\n    return valueKey && valueKey.reduce ? value : applyKey(value, valueKey);\n  }, [value, valueKey]); // search input value\n\n  var _useState = useState(),\n      search = _useState[0],\n      setSearch = _useState[1]; // All select option indices and values\n\n\n  var _useState2 = useState(optionsProp),\n      allOptions = _useState2[0],\n      setAllOptions = _useState2[1]; // Track changes to options property, except when options are being\n  // updated due to search activity. Allows option's initial index value\n  // to be referenced when filtered by search.\n\n\n  useEffect(function () {\n    if (!search) setAllOptions(optionsProp);\n  }, [optionsProp, search]); // the option indexes present in the value\n\n  var optionIndexesInValue = useMemo(function () {\n    var result = [];\n    allOptions.forEach(function (option, index) {\n      if (selected !== undefined) {\n        if (Array.isArray(selected)) {\n          if (selected.indexOf(index) !== -1) result.push(index);\n        } else if (index === selected) {\n          result.push(index);\n        }\n      } else if (Array.isArray(valuedValue)) {\n        if (valuedValue.some(function (v) {\n          return v === applyKey(option, valueKey);\n        })) {\n          result.push(index);\n        }\n      } else if (valuedValue === applyKey(option, valueKey)) {\n        result.push(index);\n      }\n    });\n    return result;\n  }, [allOptions, selected, valueKey, valuedValue]);\n\n  var _useState3 = useState(propOpen),\n      open = _useState3[0],\n      setOpen = _useState3[1];\n\n  useEffect(function () {\n    return setOpen(propOpen);\n  }, [propOpen]);\n  var onRequestOpen = useCallback(function () {\n    if (open) return;\n    setOpen(true);\n    if (onOpen) onOpen();\n  }, [onOpen, open]);\n  var onRequestClose = useCallback(function () {\n    setOpen(false);\n    if (onClose) onClose();\n    setSearch();\n  }, [onClose]);\n  var triggerChangeEvent = useCallback(function (nextValue) {\n    // Calling set value function directly on input because React library\n    // overrides setter `event.target.value =` and loses original event\n    // target fidelity.\n    // https://stackoverflow.com/a/46012210\n    var nativeInputValueSetter = Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype, 'value').set;\n    nativeInputValueSetter.call(inputRef.current, nextValue);\n    var event = new Event('input', {\n      bubbles: true\n    });\n    inputRef.current.dispatchEvent(event);\n  }, []);\n  var onSelectChange = useCallback(function (event, _ref2) {\n    var option = _ref2.option,\n        nextValue = _ref2.value,\n        nextSelected = _ref2.selected;\n    if (closeOnChange) onRequestClose(); // nextValue must not be of type object to set value directly on the\n    // input. if it is an object, then the user has not provided necessary\n    // props to reduce object option\n\n    if (typeof nextValue !== 'object' && nextValue !== event.target.value && inputRef.current) {\n      // select registers changing option as a click event or keydown.\n      // when in a form, we need to programatically trigger a change\n      // event in order for the change event to be registered upstream\n      // necessary for change validation in form\n      triggerChangeEvent(nextValue);\n    }\n\n    setValue(nextValue);\n\n    if (onChange) {\n      event.persist();\n      var adjustedEvent; // support for native event used by Preact\n\n      if (event instanceof Event) {\n        adjustedEvent = new event.constructor(event.type, event);\n        Object.defineProperties(adjustedEvent, {\n          target: {\n            value: inputRef.current\n          },\n          value: {\n            value: nextValue\n          },\n          option: {\n            value: option\n          },\n          selected: {\n            value: nextSelected\n          }\n        });\n      } else {\n        adjustedEvent = event;\n        adjustedEvent.target = inputRef.current;\n        adjustedEvent.value = nextValue;\n        adjustedEvent.option = option;\n        adjustedEvent.selected = nextSelected;\n      }\n\n      onChange(adjustedEvent);\n    }\n  }, [closeOnChange, onChange, onRequestClose, setValue, triggerChangeEvent]);\n  var SelectIcon;\n\n  switch (icon) {\n    case false:\n      break;\n\n    case true:\n    case undefined:\n      SelectIcon = open && theme.select.icons.up ? theme.select.icons.up : theme.select.icons.down;\n      break;\n\n    default:\n      SelectIcon = icon;\n  } // element to show, trumps inputValue\n\n\n  var selectValue = useMemo(function () {\n    if (valueLabel instanceof Function) {\n      if (value) return valueLabel(value);\n    } else if (valueLabel) return valueLabel;else if ( /*#__PURE__*/React.isValidElement(value)) return value; // deprecated\n\n\n    return undefined;\n  }, [value, valueLabel]); // if labelKey is a function and valueLabel is not defined\n  // we should use the labelKey function to display the\n  // selected value\n\n  var displayLabelKey = useMemo(function () {\n    var optionLabelKey = applyKey(allOptions[optionIndexesInValue[0]], labelKey);\n    if (!selectValue && optionIndexesInValue.length === 1 && typeof optionLabelKey === 'object') return optionLabelKey;\n    return undefined;\n  }, [labelKey, allOptions, optionIndexesInValue, selectValue]); // text to show\n  // When the options array contains objects, this property indicates how\n  // to retrieve the value of each option.\n  // If a string is provided, it is used as the key to retrieve a\n  // property of an option object.\n  // If a function is provided, it is called with the option and should\n  // return the value.\n  // If reduce is true, this value will be used for the 'value'\n  // delivered via 'onChange'.\n\n  var inputValue = useMemo(function () {\n    if (!selectValue) {\n      if (optionIndexesInValue.length === 0) return '';\n      if (optionIndexesInValue.length === 1) return applyKey(allOptions[optionIndexesInValue[0]], labelKey);\n      return format({\n        id: 'select.multiple',\n        messages: messages\n      });\n    }\n\n    return undefined;\n  }, [labelKey, messages, format, optionIndexesInValue, allOptions, selectValue]);\n  var iconColor = normalizeColor(theme.select.icons.color || 'control', theme);\n  return /*#__PURE__*/React.createElement(Keyboard, {\n    onDown: onRequestOpen,\n    onUp: onRequestOpen\n  }, /*#__PURE__*/React.createElement(StyledSelectDropButton, {\n    ref: ref,\n    a11yTitle: \"\" + (ariaLabel || a11yTitle || placeholder || 'Open Drop') + (value ? format({\n      id: 'select.selected',\n      messages: messages,\n      values: {\n        currentSelectedValue: value\n      }\n    }) : ''),\n    \"aria-expanded\": Boolean(open),\n    \"aria-haspopup\": \"listbox\",\n    id: id,\n    disabled: disabled === true || undefined,\n    dropAlign: dropAlign,\n    dropTarget: dropTarget,\n    open: open,\n    alignSelf: alignSelf,\n    focusIndicator: focusIndicator,\n    onFocus: onFocus,\n    onBlur: onBlur,\n    gridArea: gridArea,\n    margin: margin,\n    onOpen: onRequestOpen,\n    onClose: onRequestClose,\n    onClick: onClick,\n    dropContent: /*#__PURE__*/React.createElement(SelectContainer, {\n      clear: clear,\n      disabled: disabled,\n      disabledKey: disabledKey,\n      dropHeight: dropHeight,\n      emptySearchMessage: emptySearchMessage,\n      id: id,\n      labelKey: labelKey,\n      multiple: multiple,\n      name: name,\n      onChange: onSelectChange,\n      onKeyDown: onKeyDown,\n      onMore: onMore,\n      onSearch: onSearch,\n      options: optionsProp,\n      allOptions: allOptions,\n      optionIndexesInValue: optionIndexesInValue,\n      replace: replace,\n      searchPlaceholder: searchPlaceholder,\n      search: search,\n      setSearch: setSearch,\n      selected: selected,\n      usingKeyboard: usingKeyboard,\n      value: value,\n      valueKey: valueKey\n    }, children) // StyledDropButton needs to know if the border should be shown\n    ,\n    callerPlain: plain,\n    plain: true // Button should be plain\n    ,\n    dropProps: dropProps,\n    theme: theme\n  }, /*#__PURE__*/React.createElement(Box, {\n    align: \"center\",\n    direction: \"row\",\n    justify: \"between\",\n    background: theme.select.background\n  }, /*#__PURE__*/React.createElement(Box, {\n    direction: \"row\",\n    flex: true,\n    basis: \"auto\"\n  }, selectValue || displayLabelKey ? /*#__PURE__*/React.createElement(React.Fragment, null, selectValue || displayLabelKey, /*#__PURE__*/React.createElement(HiddenInput, {\n    type: \"text\",\n    name: name,\n    id: id ? id + \"__input\" : undefined,\n    value: inputValue,\n    ref: inputRef,\n    readOnly: true\n  })) : /*#__PURE__*/React.createElement(SelectTextInput, _extends({\n    a11yTitle: (ariaLabel || a11yTitle) && \"\" + (ariaLabel || a11yTitle) + (value && typeof value === 'string' ? \", \" + value : '') // When Select is disabled, we want to show a default cursor\n    // but not have disabled styling come from TextInput\n    // Disabled can be a bool or an array of options to disable.\n    // We only want to disable the TextInput if the control\n    // button should be disabled which occurs when disabled\n    // equals true.\n    ,\n    defaultCursor: disabled === true || undefined,\n    focusIndicator: false,\n    id: id ? id + \"__input\" : undefined,\n    name: name,\n    ref: inputRef\n  }, rest, {\n    tabIndex: \"-1\",\n    type: \"text\",\n    placeholder: placeholder,\n    plain: true,\n    readOnly: true,\n    value: inputValue,\n    size: size,\n    theme: theme\n  }))), SelectIcon && /*#__PURE__*/React.createElement(Box, {\n    margin: theme.select.icons.margin,\n    flex: false,\n    style: {\n      minWidth: 'auto'\n    }\n  }, /*#__PURE__*/isValidElement(SelectIcon) ? SelectIcon : /*#__PURE__*/React.createElement(SelectIcon, {\n    color: iconColor,\n    size: size\n  })))));\n});\nSelect.defaultProps = _extends({}, defaultProps);\nSelect.displayName = 'Select';\nSelect.propTypes = SelectPropTypes;\nexport { Select };","map":{"version":3,"names":["_excluded","_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf","React","forwardRef","isValidElement","useCallback","useContext","useMemo","useState","useRef","useEffect","styled","ThemeContext","controlBorderStyle","normalizeColor","useKeyboard","defaultProps","Box","DropButton","Keyboard","FormContext","TextInput","SelectContainer","applyKey","MessageContext","SelectPropTypes","SelectTextInput","withConfig","displayName","componentId","props","defaultCursor","HiddenInput","input","StyledSelectDropButton","callerPlain","theme","select","control","extend","open","setPrototypeOf","defaultDropAlign","top","left","Select","_ref","ref","a11yTitle","ariaLabel","alignSelf","children","_ref$clear","clear","_ref$closeOnChange","closeOnChange","defaultValue","disabled","disabledKey","_ref$dropAlign","dropAlign","dropHeight","dropProps","dropTarget","emptySearchMessage","focusIndicator","gridArea","id","icon","labelKey","margin","messages","multiple","name","onBlur","onChange","onClick","onClose","onFocus","onKeyDown","onMore","onOpen","onSearch","propOpen","optionsProp","options","placeholder","plain","replace","searchPlaceholder","selected","size","valueProp","value","valueKey","valueLabel","rest","inputRef","formContext","_useContext","format","usingKeyboard","_formContext$useFormI","useFormInput","initialValue","setValue","valuedValue","Array","isArray","map","v","reduce","_useState","search","setSearch","_useState2","allOptions","setAllOptions","optionIndexesInValue","result","forEach","option","index","undefined","push","some","_useState3","setOpen","onRequestOpen","onRequestClose","triggerChangeEvent","nextValue","nativeInputValueSetter","getOwnPropertyDescriptor","window","HTMLInputElement","set","current","event","Event","bubbles","dispatchEvent","onSelectChange","_ref2","nextSelected","persist","adjustedEvent","constructor","type","defineProperties","SelectIcon","icons","up","down","selectValue","Function","displayLabelKey","optionLabelKey","inputValue","iconColor","color","createElement","onDown","onUp","values","currentSelectedValue","Boolean","dropContent","align","direction","justify","background","flex","basis","Fragment","readOnly","tabIndex","style","minWidth","propTypes"],"sources":["/Users/siddharthkhatri/Developer/React JS/phone-book/node_modules/grommet/es6/components/Select/Select.js"],"sourcesContent":["var _excluded = [\"a11yTitle\", \"aria-label\", \"alignSelf\", \"children\", \"clear\", \"closeOnChange\", \"defaultValue\", \"disabled\", \"disabledKey\", \"dropAlign\", \"dropHeight\", \"dropProps\", \"dropTarget\", \"emptySearchMessage\", \"focusIndicator\", \"gridArea\", \"id\", \"icon\", \"labelKey\", \"margin\", \"messages\", \"multiple\", \"name\", \"onBlur\", \"onChange\", \"onClick\", \"onClose\", \"onFocus\", \"onKeyDown\", \"onMore\", \"onOpen\", \"onSearch\", \"open\", \"options\", \"placeholder\", \"plain\", \"replace\", \"searchPlaceholder\", \"selected\", \"size\", \"value\", \"valueKey\", \"valueLabel\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef, isValidElement, useCallback, useContext, useMemo, useState, useRef, useEffect } from 'react';\nimport styled, { ThemeContext } from 'styled-components';\nimport { controlBorderStyle, normalizeColor, useKeyboard } from '../../utils';\nimport { defaultProps } from '../../default-props';\nimport { Box } from '../Box';\nimport { DropButton } from '../DropButton';\nimport { Keyboard } from '../Keyboard';\nimport { FormContext } from '../Form/FormContext';\nimport { TextInput } from '../TextInput';\nimport { SelectContainer } from './SelectContainer';\nimport { applyKey } from './utils';\nimport { MessageContext } from '../../contexts/MessageContext';\nimport { SelectPropTypes } from './propTypes';\nvar SelectTextInput = styled(TextInput).withConfig({\n  displayName: \"Select__SelectTextInput\",\n  componentId: \"sc-17idtfo-0\"\n})([\"cursor:\", \";\"], function (props) {\n  return props.defaultCursor ? 'default' : 'pointer';\n});\nvar HiddenInput = styled.input.withConfig({\n  displayName: \"Select__HiddenInput\",\n  componentId: \"sc-17idtfo-1\"\n})([\"display:none;\"]);\nvar StyledSelectDropButton = styled(DropButton).withConfig({\n  displayName: \"Select__StyledSelectDropButton\",\n  componentId: \"sc-17idtfo-2\"\n})([\"\", \";\", \";\", \";\"], function (props) {\n  return !props.callerPlain && controlBorderStyle;\n}, function (props) {\n  return props.theme.select && props.theme.select.control && props.theme.select.control.extend;\n}, function (props) {\n  return props.open && props.theme.select.control.open;\n});\nStyledSelectDropButton.defaultProps = {};\nObject.setPrototypeOf(StyledSelectDropButton.defaultProps, defaultProps);\nvar defaultDropAlign = {\n  top: 'bottom',\n  left: 'left'\n};\nvar Select = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var a11yTitle = _ref.a11yTitle,\n      ariaLabel = _ref['aria-label'],\n      alignSelf = _ref.alignSelf,\n      children = _ref.children,\n      _ref$clear = _ref.clear,\n      clear = _ref$clear === void 0 ? false : _ref$clear,\n      _ref$closeOnChange = _ref.closeOnChange,\n      closeOnChange = _ref$closeOnChange === void 0 ? true : _ref$closeOnChange,\n      defaultValue = _ref.defaultValue,\n      disabled = _ref.disabled,\n      disabledKey = _ref.disabledKey,\n      _ref$dropAlign = _ref.dropAlign,\n      dropAlign = _ref$dropAlign === void 0 ? defaultDropAlign : _ref$dropAlign,\n      dropHeight = _ref.dropHeight,\n      dropProps = _ref.dropProps,\n      dropTarget = _ref.dropTarget,\n      emptySearchMessage = _ref.emptySearchMessage,\n      focusIndicator = _ref.focusIndicator,\n      gridArea = _ref.gridArea,\n      id = _ref.id,\n      icon = _ref.icon,\n      labelKey = _ref.labelKey,\n      margin = _ref.margin,\n      messages = _ref.messages,\n      multiple = _ref.multiple,\n      name = _ref.name,\n      onBlur = _ref.onBlur,\n      onChange = _ref.onChange,\n      onClick = _ref.onClick,\n      onClose = _ref.onClose,\n      onFocus = _ref.onFocus,\n      onKeyDown = _ref.onKeyDown,\n      onMore = _ref.onMore,\n      onOpen = _ref.onOpen,\n      onSearch = _ref.onSearch,\n      propOpen = _ref.open,\n      optionsProp = _ref.options,\n      placeholder = _ref.placeholder,\n      plain = _ref.plain,\n      replace = _ref.replace,\n      searchPlaceholder = _ref.searchPlaceholder,\n      selected = _ref.selected,\n      size = _ref.size,\n      valueProp = _ref.value,\n      valueKey = _ref.valueKey,\n      valueLabel = _ref.valueLabel,\n      rest = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var theme = useContext(ThemeContext) || defaultProps.theme;\n  var inputRef = useRef();\n  var formContext = useContext(FormContext);\n\n  var _useContext = useContext(MessageContext),\n      format = _useContext.format; // Determine if the Select is opened with the keyboard. If so,\n  // focus should be set on the first option when the drop opens\n  // see set initial focus code in SelectContainer.js\n\n\n  var usingKeyboard = useKeyboard(); // value is used for what we receive in valueProp and the basis for\n  // what we send with onChange\n  // When 'valueKey' sets 'reduce', the value(s) here should match\n  // what the 'valueKey' would return for the corresponding\n  // selected option object.\n  // Otherwise, the value(s) should match the selected options.\n\n  var _formContext$useFormI = formContext.useFormInput({\n    name: name,\n    value: valueProp,\n    initialValue: defaultValue || ''\n  }),\n      value = _formContext$useFormI[0],\n      setValue = _formContext$useFormI[1]; // valuedValue is the value mapped with any valueKey applied\n  // When the options array contains objects, this property indicates how\n  // to retrieve the value of each option.\n  // If a string is provided, it is used as the key to retrieve a\n  // property of an option object.\n  // If a function is provided, it is called with the option and should\n  // return the value.\n  // If reduce is true, this value will be used for the 'value'\n  // delivered via 'onChange'.\n\n\n  var valuedValue = useMemo(function () {\n    if (Array.isArray(value)) return value.map(function (v) {\n      return valueKey && valueKey.reduce ? v : applyKey(v, valueKey);\n    });\n    return valueKey && valueKey.reduce ? value : applyKey(value, valueKey);\n  }, [value, valueKey]); // search input value\n\n  var _useState = useState(),\n      search = _useState[0],\n      setSearch = _useState[1]; // All select option indices and values\n\n\n  var _useState2 = useState(optionsProp),\n      allOptions = _useState2[0],\n      setAllOptions = _useState2[1]; // Track changes to options property, except when options are being\n  // updated due to search activity. Allows option's initial index value\n  // to be referenced when filtered by search.\n\n\n  useEffect(function () {\n    if (!search) setAllOptions(optionsProp);\n  }, [optionsProp, search]); // the option indexes present in the value\n\n  var optionIndexesInValue = useMemo(function () {\n    var result = [];\n    allOptions.forEach(function (option, index) {\n      if (selected !== undefined) {\n        if (Array.isArray(selected)) {\n          if (selected.indexOf(index) !== -1) result.push(index);\n        } else if (index === selected) {\n          result.push(index);\n        }\n      } else if (Array.isArray(valuedValue)) {\n        if (valuedValue.some(function (v) {\n          return v === applyKey(option, valueKey);\n        })) {\n          result.push(index);\n        }\n      } else if (valuedValue === applyKey(option, valueKey)) {\n        result.push(index);\n      }\n    });\n    return result;\n  }, [allOptions, selected, valueKey, valuedValue]);\n\n  var _useState3 = useState(propOpen),\n      open = _useState3[0],\n      setOpen = _useState3[1];\n\n  useEffect(function () {\n    return setOpen(propOpen);\n  }, [propOpen]);\n  var onRequestOpen = useCallback(function () {\n    if (open) return;\n    setOpen(true);\n    if (onOpen) onOpen();\n  }, [onOpen, open]);\n  var onRequestClose = useCallback(function () {\n    setOpen(false);\n    if (onClose) onClose();\n    setSearch();\n  }, [onClose]);\n  var triggerChangeEvent = useCallback(function (nextValue) {\n    // Calling set value function directly on input because React library\n    // overrides setter `event.target.value =` and loses original event\n    // target fidelity.\n    // https://stackoverflow.com/a/46012210\n    var nativeInputValueSetter = Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype, 'value').set;\n    nativeInputValueSetter.call(inputRef.current, nextValue);\n    var event = new Event('input', {\n      bubbles: true\n    });\n    inputRef.current.dispatchEvent(event);\n  }, []);\n  var onSelectChange = useCallback(function (event, _ref2) {\n    var option = _ref2.option,\n        nextValue = _ref2.value,\n        nextSelected = _ref2.selected;\n    if (closeOnChange) onRequestClose(); // nextValue must not be of type object to set value directly on the\n    // input. if it is an object, then the user has not provided necessary\n    // props to reduce object option\n\n    if (typeof nextValue !== 'object' && nextValue !== event.target.value && inputRef.current) {\n      // select registers changing option as a click event or keydown.\n      // when in a form, we need to programatically trigger a change\n      // event in order for the change event to be registered upstream\n      // necessary for change validation in form\n      triggerChangeEvent(nextValue);\n    }\n\n    setValue(nextValue);\n\n    if (onChange) {\n      event.persist();\n      var adjustedEvent; // support for native event used by Preact\n\n      if (event instanceof Event) {\n        adjustedEvent = new event.constructor(event.type, event);\n        Object.defineProperties(adjustedEvent, {\n          target: {\n            value: inputRef.current\n          },\n          value: {\n            value: nextValue\n          },\n          option: {\n            value: option\n          },\n          selected: {\n            value: nextSelected\n          }\n        });\n      } else {\n        adjustedEvent = event;\n        adjustedEvent.target = inputRef.current;\n        adjustedEvent.value = nextValue;\n        adjustedEvent.option = option;\n        adjustedEvent.selected = nextSelected;\n      }\n\n      onChange(adjustedEvent);\n    }\n  }, [closeOnChange, onChange, onRequestClose, setValue, triggerChangeEvent]);\n  var SelectIcon;\n\n  switch (icon) {\n    case false:\n      break;\n\n    case true:\n    case undefined:\n      SelectIcon = open && theme.select.icons.up ? theme.select.icons.up : theme.select.icons.down;\n      break;\n\n    default:\n      SelectIcon = icon;\n  } // element to show, trumps inputValue\n\n\n  var selectValue = useMemo(function () {\n    if (valueLabel instanceof Function) {\n      if (value) return valueLabel(value);\n    } else if (valueLabel) return valueLabel;else if ( /*#__PURE__*/React.isValidElement(value)) return value; // deprecated\n\n\n    return undefined;\n  }, [value, valueLabel]); // if labelKey is a function and valueLabel is not defined\n  // we should use the labelKey function to display the\n  // selected value\n\n  var displayLabelKey = useMemo(function () {\n    var optionLabelKey = applyKey(allOptions[optionIndexesInValue[0]], labelKey);\n    if (!selectValue && optionIndexesInValue.length === 1 && typeof optionLabelKey === 'object') return optionLabelKey;\n    return undefined;\n  }, [labelKey, allOptions, optionIndexesInValue, selectValue]); // text to show\n  // When the options array contains objects, this property indicates how\n  // to retrieve the value of each option.\n  // If a string is provided, it is used as the key to retrieve a\n  // property of an option object.\n  // If a function is provided, it is called with the option and should\n  // return the value.\n  // If reduce is true, this value will be used for the 'value'\n  // delivered via 'onChange'.\n\n  var inputValue = useMemo(function () {\n    if (!selectValue) {\n      if (optionIndexesInValue.length === 0) return '';\n      if (optionIndexesInValue.length === 1) return applyKey(allOptions[optionIndexesInValue[0]], labelKey);\n      return format({\n        id: 'select.multiple',\n        messages: messages\n      });\n    }\n\n    return undefined;\n  }, [labelKey, messages, format, optionIndexesInValue, allOptions, selectValue]);\n  var iconColor = normalizeColor(theme.select.icons.color || 'control', theme);\n  return /*#__PURE__*/React.createElement(Keyboard, {\n    onDown: onRequestOpen,\n    onUp: onRequestOpen\n  }, /*#__PURE__*/React.createElement(StyledSelectDropButton, {\n    ref: ref,\n    a11yTitle: \"\" + (ariaLabel || a11yTitle || placeholder || 'Open Drop') + (value ? format({\n      id: 'select.selected',\n      messages: messages,\n      values: {\n        currentSelectedValue: value\n      }\n    }) : ''),\n    \"aria-expanded\": Boolean(open),\n    \"aria-haspopup\": \"listbox\",\n    id: id,\n    disabled: disabled === true || undefined,\n    dropAlign: dropAlign,\n    dropTarget: dropTarget,\n    open: open,\n    alignSelf: alignSelf,\n    focusIndicator: focusIndicator,\n    onFocus: onFocus,\n    onBlur: onBlur,\n    gridArea: gridArea,\n    margin: margin,\n    onOpen: onRequestOpen,\n    onClose: onRequestClose,\n    onClick: onClick,\n    dropContent: /*#__PURE__*/React.createElement(SelectContainer, {\n      clear: clear,\n      disabled: disabled,\n      disabledKey: disabledKey,\n      dropHeight: dropHeight,\n      emptySearchMessage: emptySearchMessage,\n      id: id,\n      labelKey: labelKey,\n      multiple: multiple,\n      name: name,\n      onChange: onSelectChange,\n      onKeyDown: onKeyDown,\n      onMore: onMore,\n      onSearch: onSearch,\n      options: optionsProp,\n      allOptions: allOptions,\n      optionIndexesInValue: optionIndexesInValue,\n      replace: replace,\n      searchPlaceholder: searchPlaceholder,\n      search: search,\n      setSearch: setSearch,\n      selected: selected,\n      usingKeyboard: usingKeyboard,\n      value: value,\n      valueKey: valueKey\n    }, children) // StyledDropButton needs to know if the border should be shown\n    ,\n    callerPlain: plain,\n    plain: true // Button should be plain\n    ,\n    dropProps: dropProps,\n    theme: theme\n  }, /*#__PURE__*/React.createElement(Box, {\n    align: \"center\",\n    direction: \"row\",\n    justify: \"between\",\n    background: theme.select.background\n  }, /*#__PURE__*/React.createElement(Box, {\n    direction: \"row\",\n    flex: true,\n    basis: \"auto\"\n  }, selectValue || displayLabelKey ? /*#__PURE__*/React.createElement(React.Fragment, null, selectValue || displayLabelKey, /*#__PURE__*/React.createElement(HiddenInput, {\n    type: \"text\",\n    name: name,\n    id: id ? id + \"__input\" : undefined,\n    value: inputValue,\n    ref: inputRef,\n    readOnly: true\n  })) : /*#__PURE__*/React.createElement(SelectTextInput, _extends({\n    a11yTitle: (ariaLabel || a11yTitle) && \"\" + (ariaLabel || a11yTitle) + (value && typeof value === 'string' ? \", \" + value : '') // When Select is disabled, we want to show a default cursor\n    // but not have disabled styling come from TextInput\n    // Disabled can be a bool or an array of options to disable.\n    // We only want to disable the TextInput if the control\n    // button should be disabled which occurs when disabled\n    // equals true.\n    ,\n    defaultCursor: disabled === true || undefined,\n    focusIndicator: false,\n    id: id ? id + \"__input\" : undefined,\n    name: name,\n    ref: inputRef\n  }, rest, {\n    tabIndex: \"-1\",\n    type: \"text\",\n    placeholder: placeholder,\n    plain: true,\n    readOnly: true,\n    value: inputValue,\n    size: size,\n    theme: theme\n  }))), SelectIcon && /*#__PURE__*/React.createElement(Box, {\n    margin: theme.select.icons.margin,\n    flex: false,\n    style: {\n      minWidth: 'auto'\n    }\n  }, /*#__PURE__*/isValidElement(SelectIcon) ? SelectIcon : /*#__PURE__*/React.createElement(SelectIcon, {\n    color: iconColor,\n    size: size\n  })))));\n});\nSelect.defaultProps = _extends({}, defaultProps);\nSelect.displayName = 'Select';\nSelect.propTypes = SelectPropTypes;\nexport { Select };"],"mappings":"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"},"metadata":{},"sourceType":"module"}