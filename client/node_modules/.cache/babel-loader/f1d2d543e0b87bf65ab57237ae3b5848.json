{"ast":null,"code":"var _excluded = [\"a11yTitle\", \"background\", \"border\", \"confirmRemove\", \"disabled\", \"id\", \"plain\", \"renderFile\", \"maxSize\", \"messages\", \"margin\", \"multiple\", \"name\", \"onChange\", \"pad\", \"value\"];\n\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nimport React, { forwardRef, useContext, useRef, useState } from 'react';\nimport styled, { ThemeContext } from 'styled-components';\nimport { CircleAlert } from 'grommet-icons/icons/CircleAlert';\nimport { MessageContext } from '../../contexts/MessageContext';\nimport { defaultProps } from '../../default-props';\nimport { disabledStyle, parseMetricToNum, useForwardedRef } from '../../utils';\nimport { Anchor } from '../Anchor';\nimport { Box } from '../Box';\nimport { Button } from '../Button';\nimport { FormContext } from '../Form/FormContext';\nimport { Keyboard } from '../Keyboard';\nimport { Text } from '../Text';\nimport { StyledFileInput } from './StyledFileInput';\nimport { FileInputPropTypes } from './propTypes';\n\nvar formatBytes = function formatBytes(size) {\n  var units = ['B', 'KB', 'MB', 'GB', 'TB'];\n  var factor = 1024;\n  var index = 0;\n  var num = size;\n\n  while (num >= factor && index < units.length - 1) {\n    num /= factor;\n    index += 1;\n  }\n\n  return num.toFixed(1) + \" \" + units[index];\n}; // We want the interaction of <input type=\"file\" /> but none of its styling.\n// So, we put what we want to show underneath and\n// position the <input /> on top with an opacity of zero.\n// If there are any files selected, we need to show the buttons to remove them.\n// So, we offset the <input /> from the right by the appropriate width.\n// We don't use Stack because of how we need to control the positioning.\n\n\nvar ContentsBox = styled(Box).withConfig({\n  displayName: \"FileInput__ContentsBox\",\n  componentId: \"sc-1jzq7im-0\"\n})([\"cursor:pointer;position:relative;\", \" \", \";\", \";\", \";\"], function (props) {\n  return props.disabled && disabledStyle();\n}, function (props) {\n  return props.theme.fileInput && props.theme.fileInput.extend;\n}, function (props) {\n  return props.hover && props.theme.fileInput && props.theme.fileInput.hover && props.theme.fileInput.hover.extend;\n}, function (props) {\n  return props.dragOver && props.theme.fileInput && props.theme.fileInput.dragOver && props.theme.fileInput.dragOver.extend;\n});\nvar Label = styled(Text).withConfig({\n  displayName: \"FileInput__Label\",\n  componentId: \"sc-1jzq7im-1\"\n})([\"\", \";\"], function (props) {\n  return props.theme.fileInput && props.theme.fileInput.label && props.theme.fileInput.label.extend;\n});\nvar Message = styled(Text).withConfig({\n  displayName: \"FileInput__Message\",\n  componentId: \"sc-1jzq7im-2\"\n})([\"\", \";\"], function (props) {\n  return props.theme.fileInput && props.theme.fileInput.message && props.theme.fileInput.message.extend;\n});\nvar defaultPendingRemoval = {\n  event: undefined,\n  index: undefined\n};\nvar FileInput = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var a11yTitle = _ref.a11yTitle,\n      background = _ref.background,\n      border = _ref.border,\n      confirmRemove = _ref.confirmRemove,\n      disabled = _ref.disabled,\n      id = _ref.id,\n      plain = _ref.plain,\n      renderFile = _ref.renderFile,\n      maxSize = _ref.maxSize,\n      messages = _ref.messages,\n      margin = _ref.margin,\n      multiple = _ref.multiple,\n      name = _ref.name,\n      _onChange = _ref.onChange,\n      pad = _ref.pad,\n      valueProp = _ref.value,\n      rest = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var theme = useContext(ThemeContext);\n\n  var _useContext = useContext(MessageContext),\n      format = _useContext.format;\n\n  var formContext = useContext(FormContext);\n\n  var _React$useState = React.useState(),\n      hover = _React$useState[0],\n      setHover = _React$useState[1];\n\n  var _React$useState2 = React.useState(),\n      dragOver = _React$useState2[0],\n      setDragOver = _React$useState2[1];\n\n  var _useState = useState(false),\n      showRemoveConfirmation = _useState[0],\n      setShowRemoveConfirmation = _useState[1];\n\n  var _useState2 = useState(defaultPendingRemoval),\n      pendingRemoval = _useState2[0],\n      setPendingRemoval = _useState2[1];\n\n  var aggregateThreshold = multiple && multiple.aggregateThreshold || 10;\n  var max = multiple == null ? void 0 : multiple.max;\n  var inputRef = useForwardedRef(ref);\n  var controlRef = useRef();\n  var removeRef = useRef();\n  var ConfirmRemove = confirmRemove;\n  var RemoveIcon = theme.fileInput.icons.remove;\n\n  var _formContext$useFormI = formContext.useFormInput({\n    name: name,\n    value: valueProp,\n    initialValue: [],\n    validate: [maxSize ? function () {\n      var fileList = [].concat(files);\n      var message = '';\n      var numOfInvalidFiles = fileList.filter(function (_ref2) {\n        var size = _ref2.size;\n        return size > maxSize;\n      }).length;\n\n      if (numOfInvalidFiles) {\n        var messageId = 'fileInput.maxSizeSingle';\n\n        if (multiple) {\n          messageId = \"fileInput.maxSizeMultiple.\" + (numOfInvalidFiles === 1 ? 'singular' : 'plural');\n        }\n\n        message = format({\n          id: messageId,\n          messages: messages,\n          values: {\n            maxSize: formatBytes(maxSize),\n            numOfFiles: numOfInvalidFiles\n          }\n        });\n      }\n\n      return message;\n    } : '', max ? function () {\n      var fileList = [].concat(files);\n      var message = '';\n\n      if (fileList.length > max) {\n        message = format({\n          id: 'fileInput.maxFile',\n          messages: messages,\n          values: {\n            max: max\n          }\n        });\n      }\n\n      return message;\n    } : '']\n  }),\n      files = _formContext$useFormI[0],\n      setFiles = _formContext$useFormI[1];\n\n  var mergeTheme = function mergeTheme(propertyName, defaultKey) {\n    var result = {};\n    var themeProp = theme.fileInput[propertyName];\n    if (themeProp) if (typeof themeProp !== 'object') {\n      if (defaultKey) result[defaultKey] = themeProp;else result = themeProp;\n    } else result = _extends({}, themeProp);\n    var hoverThemeProp = theme.fileInput.hover[propertyName];\n    if (hover && hoverThemeProp) if (typeof hoverThemeProp !== 'object') {\n      if (defaultKey) result[defaultKey] = hoverThemeProp;else result = hoverThemeProp;\n    } else result = _extends({}, result, hoverThemeProp);\n    var dragOverThemeProp = theme.fileInput.dragOver[propertyName];\n    if (dragOver && dragOverThemeProp) if (typeof dragOverThemeProp !== 'object') {\n      if (defaultKey) result[defaultKey] = dragOverThemeProp;else result = dragOverThemeProp;\n    } else result = _extends({}, result, dragOverThemeProp);\n    return typeof result === 'object' && Object.keys(result).length === 0 ? undefined : result;\n  };\n\n  var rightPad;\n\n  if (mergeTheme('pad')) {\n    var _mergeTheme = mergeTheme('pad'),\n        horizontal = _mergeTheme.horizontal,\n        right = _mergeTheme.right;\n\n    if (right) {\n      rightPad = theme.global.edgeSize[right] || right;\n    } else if (horizontal) {\n      rightPad = theme.global.edgeSize[horizontal] || horizontal;\n    }\n  } // rightPad needs to be included in the rightOffset\n  // otherwise input may cover the RemoveButton, making it\n  // unreachable by mouse click.\n  // If browse anchor or button is greater than remove button then\n  // rightoffset will take the larger width\n\n\n  var rightOffset;\n\n  if (removeRef.current && controlRef.current) {\n    var rightOffsetBrowse = controlRef.current.getBoundingClientRect().width;\n    var rightOffsetRemove = removeRef.current.getBoundingClientRect().width;\n    if (rightPad && typeof rightPad === 'string') rightOffset = rightOffsetRemove + parseMetricToNum(rightPad);\n\n    if (files.length === 1 || files.length > aggregateThreshold) {\n      rightOffset = rightOffsetBrowse + rightOffsetRemove + parseMetricToNum(theme.global.edgeSize.small) * 2;\n    } else if (rightOffsetBrowse > rightOffsetRemove) {\n      rightOffset = rightOffsetBrowse + parseMetricToNum(theme.global.edgeSize.small) * 2;\n    } else rightOffset = rightOffsetRemove;\n  } else if (!files.length && controlRef.current) {\n    rightOffset = controlRef.current.getBoundingClientRect().width + parseMetricToNum(theme.global.edgeSize.small) * 2;\n  } // Show the number of files when more than one\n\n\n  var message;\n\n  if (!files.length) {\n    message = format({\n      id: multiple ? 'fileInput.dropPromptMultiple' : 'fileInput.dropPrompt',\n      messages: messages\n    });\n  } else message = files.length + \" items\";\n\n  var removeFile = function removeFile(index) {\n    var nextFiles;\n\n    if (index === 'all') {\n      nextFiles = [];\n    } else {\n      nextFiles = [].concat(files);\n      nextFiles.splice(index, 1);\n    }\n\n    setFiles(nextFiles); // Need to have a way to track the files other than an array\n    // since inputRef.current.files is a read-only FileList\n    // https://stackoverflow.com/a/64019766\n\n    /* eslint-disable no-undef */\n\n    var dt = new DataTransfer();\n    var curFiles = inputRef.current.files;\n    if (index === 'all' || nextFiles.length === 0) inputRef.current.value = '';\n\n    for (var i = 0; i < curFiles.length; i += 1) {\n      var curfile = curFiles[i];\n      if (index !== i) dt.items.add(curfile);\n    }\n\n    var nativeInputValueSetter = Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype, 'files').set;\n    nativeInputValueSetter.call(inputRef.current, dt.files);\n    var event = new Event('input', {\n      bubbles: true\n    });\n    inputRef.current.dispatchEvent(event);\n    if (_onChange) _onChange(event, {\n      files: nextFiles\n    });\n    inputRef.current.focus();\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ContentsBox, {\n    theme: theme,\n    flex: false,\n    disabled: disabled,\n    background: mergeTheme('background', 'color'),\n    border: !plain ? mergeTheme('border', 'side') : undefined,\n    margin: mergeTheme('margin'),\n    pad: mergeTheme('pad'),\n    round: mergeTheme('round', 'size'),\n    align: files.length ? 'stretch' : 'center',\n    justify: \"center\",\n    hover: hover,\n    onMouseOver: disabled ? undefined : function () {\n      return setHover(true);\n    },\n    onMouseOut: disabled ? undefined : function () {\n      return setHover(false);\n    },\n    dragOver: dragOver\n  }, (!files.length || files.length > 1) && /*#__PURE__*/React.createElement(Box, {\n    align: \"center\",\n    fill: \"horizontal\",\n    direction: \"row\",\n    justify: \"between\"\n  }, files.length <= aggregateThreshold && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Message, theme.fileInput.message, message), /*#__PURE__*/React.createElement(Keyboard, {\n    onSpace: function onSpace(event) {\n      event.preventDefault();\n      if (controlRef.current === event.target) inputRef.current.click();\n    },\n    onEnter: function onEnter(event) {\n      if (controlRef.current === event.target) inputRef.current.click();\n    }\n  }, theme.fileInput.button ? /*#__PURE__*/React.createElement(Button, {\n    ref: controlRef,\n    kind: theme.fileInput.button,\n    label: format({\n      id: 'fileInput.browse',\n      messages: messages\n    }),\n    onClick: function onClick() {\n      inputRef.current.click();\n      inputRef.current.focus();\n    }\n  }) : /*#__PURE__*/React.createElement(Anchor, {\n    tabIndex: 0,\n    alignSelf: \"center\",\n    ref: controlRef,\n    margin: \"small\",\n    onClick: function onClick() {\n      inputRef.current.click();\n      inputRef.current.focus();\n    },\n    label: format({\n      id: 'fileInput.browse',\n      messages: messages\n    })\n  })))), files.length > aggregateThreshold && /*#__PURE__*/React.createElement(Box, {\n    justify: \"between\",\n    direction: \"row\",\n    align: \"center\"\n  }, /*#__PURE__*/React.createElement(Label, theme.fileInput.label, files.length, ' ', format({\n    id: 'fileInput.files',\n    messages: messages\n  })), /*#__PURE__*/React.createElement(Box, {\n    flex: false,\n    direction: \"row\",\n    align: \"center\"\n  }, /*#__PURE__*/React.createElement(Button, {\n    ref: removeRef,\n    a11yTitle: format({\n      id: 'fileInput.removeAll',\n      messages: messages\n    }),\n    icon: /*#__PURE__*/React.createElement(RemoveIcon, null),\n    hoverIndicator: true,\n    onClick: function onClick(event) {\n      if (confirmRemove) {\n        event.persist(); // necessary for when React < v17\n\n        setPendingRemoval({\n          event: event,\n          index: 'all'\n        });\n        setShowRemoveConfirmation(true);\n      } else removeFile('all');\n    }\n  }), /*#__PURE__*/React.createElement(Keyboard, {\n    onSpace: function onSpace(event) {\n      if (controlRef.current === event.target) inputRef.current.click();\n    },\n    onEnter: function onEnter(event) {\n      if (controlRef.current === event.target) inputRef.current.click();\n    }\n  }, theme.fileInput.button ? /*#__PURE__*/React.createElement(Button, {\n    ref: controlRef,\n    kind: theme.fileInput.button,\n    label: format({\n      id: 'fileInput.browse',\n      messages: messages\n    }),\n    onClick: function onClick() {\n      inputRef.current.click();\n      inputRef.current.focus();\n    }\n  }) : /*#__PURE__*/React.createElement(Anchor, {\n    tabIndex: 0,\n    alignSelf: \"center\",\n    ref: controlRef,\n    margin: \"small\",\n    onClick: function onClick() {\n      inputRef.current.click();\n      inputRef.current.focus();\n    },\n    label: format({\n      id: 'fileInput.browse',\n      messages: messages\n    })\n  })))), files.length > 0 && files.length <= aggregateThreshold && files.map(function (file, index) {\n    return /*#__PURE__*/React.createElement(Box, {\n      key: file.name,\n      justify: \"between\",\n      direction: \"row\",\n      align: \"center\"\n    }, renderFile ? renderFile(file) : /*#__PURE__*/React.createElement(Box, _extends({}, theme.fileInput.label, {\n      gap: \"xsmall\",\n      align: \"center\",\n      direction: \"row\"\n    }), (maxSize && file.size > maxSize || max && index >= max) && /*#__PURE__*/React.createElement(CircleAlert, null), /*#__PURE__*/React.createElement(Label, {\n      weight: theme.global.input.weight || theme.global.input.font.weight,\n      truncate: true\n    }, file.name)), /*#__PURE__*/React.createElement(Box, {\n      flex: false,\n      direction: \"row\",\n      align: \"center\"\n    }, /*#__PURE__*/React.createElement(Button, {\n      ref: index ? undefined : removeRef,\n      a11yTitle: format({\n        id: 'fileInput.remove',\n        messages: messages\n      }) + \" \" + file.name,\n      icon: /*#__PURE__*/React.createElement(RemoveIcon, null),\n      hoverIndicator: true,\n      onClick: function onClick(event) {\n        if (confirmRemove) {\n          event.persist(); // necessary for when React < v17\n\n          setPendingRemoval({\n            event: event,\n            index: index\n          });\n          setShowRemoveConfirmation(true);\n        } else removeFile(index);\n      }\n    }), files.length === 1 && /*#__PURE__*/React.createElement(Keyboard, {\n      onSpace: function onSpace(event) {\n        if (controlRef.current === event.target) inputRef.current.click();\n      },\n      onEnter: function onEnter(event) {\n        if (controlRef.current === event.target) inputRef.current.click();\n      }\n    }, theme.fileInput.button ? /*#__PURE__*/React.createElement(Button, {\n      ref: controlRef,\n      kind: theme.fileInput.button,\n      label: format({\n        id: 'fileInput.browse',\n        messages: messages\n      }),\n      onClick: function onClick() {\n        inputRef.current.click();\n        inputRef.current.focus();\n      }\n    }) : /*#__PURE__*/React.createElement(Anchor, {\n      tabIndex: 0,\n      ref: controlRef,\n      margin: \"small\",\n      onClick: function onClick() {\n        inputRef.current.click();\n        inputRef.current.focus();\n      },\n      label: format({\n        id: 'fileInput.browse',\n        messages: messages\n      })\n    }))));\n  }), /*#__PURE__*/React.createElement(StyledFileInput, _extends({\n    ref: inputRef,\n    type: \"file\",\n    id: id,\n    name: name,\n    maxSize: maxSize,\n    multiple: multiple,\n    disabled: disabled,\n    plain: true,\n    rightOffset: rightOffset\n  }, rest, {\n    onDragOver: function onDragOver() {\n      return setDragOver(true);\n    },\n    onDragLeave: function onDragLeave() {\n      return setDragOver(false);\n    },\n    onChange: function onChange(event) {\n      event.persist();\n      var fileList = event.target.files;\n      var nextFiles = multiple ? [].concat(files) : [];\n\n      var _loop = function _loop(i) {\n        // avoid duplicates\n        var existing = nextFiles.filter(function (file) {\n          return file.name === fileList[i].name && file.size === fileList[i].size;\n        }).length > 0;\n\n        if (!existing) {\n          nextFiles.push(fileList[i]);\n        }\n      };\n\n      for (var i = 0; i < fileList.length; i += 1) {\n        _loop(i);\n      }\n\n      setFiles(nextFiles);\n      setDragOver(false);\n      if (_onChange) _onChange(event, {\n        files: nextFiles\n      });\n    }\n  }))), showRemoveConfirmation && /*#__PURE__*/React.createElement(ConfirmRemove, {\n    onConfirm: function onConfirm() {\n      removeFile(pendingRemoval.index);\n      setPendingRemoval(defaultPendingRemoval);\n      setShowRemoveConfirmation(false);\n    },\n    onCancel: function onCancel() {\n      return setShowRemoveConfirmation(false);\n    }\n  }));\n});\nFileInput.defaultProps = {};\nObject.setPrototypeOf(FileInput.defaultProps, defaultProps);\nFileInput.displayName = 'FileInput';\nFileInput.propTypes = FileInputPropTypes;\nexport { FileInput };","map":{"version":3,"names":["_excluded","_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf","React","forwardRef","useContext","useRef","useState","styled","ThemeContext","CircleAlert","MessageContext","defaultProps","disabledStyle","parseMetricToNum","useForwardedRef","Anchor","Box","Button","FormContext","Keyboard","Text","StyledFileInput","FileInputPropTypes","formatBytes","size","units","factor","index","num","toFixed","ContentsBox","withConfig","displayName","componentId","props","disabled","theme","fileInput","extend","hover","dragOver","Label","label","Message","message","defaultPendingRemoval","event","undefined","FileInput","_ref","ref","a11yTitle","background","border","confirmRemove","id","plain","renderFile","maxSize","messages","margin","multiple","name","_onChange","onChange","pad","valueProp","value","rest","_useContext","format","formContext","_React$useState","setHover","_React$useState2","setDragOver","_useState","showRemoveConfirmation","setShowRemoveConfirmation","_useState2","pendingRemoval","setPendingRemoval","aggregateThreshold","max","inputRef","controlRef","removeRef","ConfirmRemove","RemoveIcon","icons","remove","_formContext$useFormI","useFormInput","initialValue","validate","fileList","concat","files","numOfInvalidFiles","filter","_ref2","messageId","values","numOfFiles","setFiles","mergeTheme","propertyName","defaultKey","result","themeProp","hoverThemeProp","dragOverThemeProp","rightPad","_mergeTheme","horizontal","right","global","edgeSize","rightOffset","current","rightOffsetBrowse","getBoundingClientRect","width","rightOffsetRemove","small","removeFile","nextFiles","splice","dt","DataTransfer","curFiles","curfile","items","add","nativeInputValueSetter","getOwnPropertyDescriptor","window","HTMLInputElement","set","Event","bubbles","dispatchEvent","focus","createElement","Fragment","flex","round","align","justify","onMouseOver","onMouseOut","fill","direction","onSpace","preventDefault","click","onEnter","button","kind","onClick","tabIndex","alignSelf","icon","hoverIndicator","persist","map","file","gap","weight","input","font","truncate","type","onDragOver","onDragLeave","_loop","existing","push","onConfirm","onCancel","setPrototypeOf","propTypes"],"sources":["/Users/siddharthkhatri/Developer/React JS/phone-book/node_modules/grommet/es6/components/FileInput/FileInput.js"],"sourcesContent":["var _excluded = [\"a11yTitle\", \"background\", \"border\", \"confirmRemove\", \"disabled\", \"id\", \"plain\", \"renderFile\", \"maxSize\", \"messages\", \"margin\", \"multiple\", \"name\", \"onChange\", \"pad\", \"value\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef, useContext, useRef, useState } from 'react';\nimport styled, { ThemeContext } from 'styled-components';\nimport { CircleAlert } from 'grommet-icons/icons/CircleAlert';\nimport { MessageContext } from '../../contexts/MessageContext';\nimport { defaultProps } from '../../default-props';\nimport { disabledStyle, parseMetricToNum, useForwardedRef } from '../../utils';\nimport { Anchor } from '../Anchor';\nimport { Box } from '../Box';\nimport { Button } from '../Button';\nimport { FormContext } from '../Form/FormContext';\nimport { Keyboard } from '../Keyboard';\nimport { Text } from '../Text';\nimport { StyledFileInput } from './StyledFileInput';\nimport { FileInputPropTypes } from './propTypes';\n\nvar formatBytes = function formatBytes(size) {\n  var units = ['B', 'KB', 'MB', 'GB', 'TB'];\n  var factor = 1024;\n  var index = 0;\n  var num = size;\n\n  while (num >= factor && index < units.length - 1) {\n    num /= factor;\n    index += 1;\n  }\n\n  return num.toFixed(1) + \" \" + units[index];\n}; // We want the interaction of <input type=\"file\" /> but none of its styling.\n// So, we put what we want to show underneath and\n// position the <input /> on top with an opacity of zero.\n// If there are any files selected, we need to show the buttons to remove them.\n// So, we offset the <input /> from the right by the appropriate width.\n// We don't use Stack because of how we need to control the positioning.\n\n\nvar ContentsBox = styled(Box).withConfig({\n  displayName: \"FileInput__ContentsBox\",\n  componentId: \"sc-1jzq7im-0\"\n})([\"cursor:pointer;position:relative;\", \" \", \";\", \";\", \";\"], function (props) {\n  return props.disabled && disabledStyle();\n}, function (props) {\n  return props.theme.fileInput && props.theme.fileInput.extend;\n}, function (props) {\n  return props.hover && props.theme.fileInput && props.theme.fileInput.hover && props.theme.fileInput.hover.extend;\n}, function (props) {\n  return props.dragOver && props.theme.fileInput && props.theme.fileInput.dragOver && props.theme.fileInput.dragOver.extend;\n});\nvar Label = styled(Text).withConfig({\n  displayName: \"FileInput__Label\",\n  componentId: \"sc-1jzq7im-1\"\n})([\"\", \";\"], function (props) {\n  return props.theme.fileInput && props.theme.fileInput.label && props.theme.fileInput.label.extend;\n});\nvar Message = styled(Text).withConfig({\n  displayName: \"FileInput__Message\",\n  componentId: \"sc-1jzq7im-2\"\n})([\"\", \";\"], function (props) {\n  return props.theme.fileInput && props.theme.fileInput.message && props.theme.fileInput.message.extend;\n});\nvar defaultPendingRemoval = {\n  event: undefined,\n  index: undefined\n};\nvar FileInput = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var a11yTitle = _ref.a11yTitle,\n      background = _ref.background,\n      border = _ref.border,\n      confirmRemove = _ref.confirmRemove,\n      disabled = _ref.disabled,\n      id = _ref.id,\n      plain = _ref.plain,\n      renderFile = _ref.renderFile,\n      maxSize = _ref.maxSize,\n      messages = _ref.messages,\n      margin = _ref.margin,\n      multiple = _ref.multiple,\n      name = _ref.name,\n      _onChange = _ref.onChange,\n      pad = _ref.pad,\n      valueProp = _ref.value,\n      rest = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var theme = useContext(ThemeContext);\n\n  var _useContext = useContext(MessageContext),\n      format = _useContext.format;\n\n  var formContext = useContext(FormContext);\n\n  var _React$useState = React.useState(),\n      hover = _React$useState[0],\n      setHover = _React$useState[1];\n\n  var _React$useState2 = React.useState(),\n      dragOver = _React$useState2[0],\n      setDragOver = _React$useState2[1];\n\n  var _useState = useState(false),\n      showRemoveConfirmation = _useState[0],\n      setShowRemoveConfirmation = _useState[1];\n\n  var _useState2 = useState(defaultPendingRemoval),\n      pendingRemoval = _useState2[0],\n      setPendingRemoval = _useState2[1];\n\n  var aggregateThreshold = multiple && multiple.aggregateThreshold || 10;\n  var max = multiple == null ? void 0 : multiple.max;\n  var inputRef = useForwardedRef(ref);\n  var controlRef = useRef();\n  var removeRef = useRef();\n  var ConfirmRemove = confirmRemove;\n  var RemoveIcon = theme.fileInput.icons.remove;\n\n  var _formContext$useFormI = formContext.useFormInput({\n    name: name,\n    value: valueProp,\n    initialValue: [],\n    validate: [maxSize ? function () {\n      var fileList = [].concat(files);\n      var message = '';\n      var numOfInvalidFiles = fileList.filter(function (_ref2) {\n        var size = _ref2.size;\n        return size > maxSize;\n      }).length;\n\n      if (numOfInvalidFiles) {\n        var messageId = 'fileInput.maxSizeSingle';\n\n        if (multiple) {\n          messageId = \"fileInput.maxSizeMultiple.\" + (numOfInvalidFiles === 1 ? 'singular' : 'plural');\n        }\n\n        message = format({\n          id: messageId,\n          messages: messages,\n          values: {\n            maxSize: formatBytes(maxSize),\n            numOfFiles: numOfInvalidFiles\n          }\n        });\n      }\n\n      return message;\n    } : '', max ? function () {\n      var fileList = [].concat(files);\n      var message = '';\n\n      if (fileList.length > max) {\n        message = format({\n          id: 'fileInput.maxFile',\n          messages: messages,\n          values: {\n            max: max\n          }\n        });\n      }\n\n      return message;\n    } : '']\n  }),\n      files = _formContext$useFormI[0],\n      setFiles = _formContext$useFormI[1];\n\n  var mergeTheme = function mergeTheme(propertyName, defaultKey) {\n    var result = {};\n    var themeProp = theme.fileInput[propertyName];\n    if (themeProp) if (typeof themeProp !== 'object') {\n      if (defaultKey) result[defaultKey] = themeProp;else result = themeProp;\n    } else result = _extends({}, themeProp);\n    var hoverThemeProp = theme.fileInput.hover[propertyName];\n    if (hover && hoverThemeProp) if (typeof hoverThemeProp !== 'object') {\n      if (defaultKey) result[defaultKey] = hoverThemeProp;else result = hoverThemeProp;\n    } else result = _extends({}, result, hoverThemeProp);\n    var dragOverThemeProp = theme.fileInput.dragOver[propertyName];\n    if (dragOver && dragOverThemeProp) if (typeof dragOverThemeProp !== 'object') {\n      if (defaultKey) result[defaultKey] = dragOverThemeProp;else result = dragOverThemeProp;\n    } else result = _extends({}, result, dragOverThemeProp);\n    return typeof result === 'object' && Object.keys(result).length === 0 ? undefined : result;\n  };\n\n  var rightPad;\n\n  if (mergeTheme('pad')) {\n    var _mergeTheme = mergeTheme('pad'),\n        horizontal = _mergeTheme.horizontal,\n        right = _mergeTheme.right;\n\n    if (right) {\n      rightPad = theme.global.edgeSize[right] || right;\n    } else if (horizontal) {\n      rightPad = theme.global.edgeSize[horizontal] || horizontal;\n    }\n  } // rightPad needs to be included in the rightOffset\n  // otherwise input may cover the RemoveButton, making it\n  // unreachable by mouse click.\n  // If browse anchor or button is greater than remove button then\n  // rightoffset will take the larger width\n\n\n  var rightOffset;\n\n  if (removeRef.current && controlRef.current) {\n    var rightOffsetBrowse = controlRef.current.getBoundingClientRect().width;\n    var rightOffsetRemove = removeRef.current.getBoundingClientRect().width;\n    if (rightPad && typeof rightPad === 'string') rightOffset = rightOffsetRemove + parseMetricToNum(rightPad);\n\n    if (files.length === 1 || files.length > aggregateThreshold) {\n      rightOffset = rightOffsetBrowse + rightOffsetRemove + parseMetricToNum(theme.global.edgeSize.small) * 2;\n    } else if (rightOffsetBrowse > rightOffsetRemove) {\n      rightOffset = rightOffsetBrowse + parseMetricToNum(theme.global.edgeSize.small) * 2;\n    } else rightOffset = rightOffsetRemove;\n  } else if (!files.length && controlRef.current) {\n    rightOffset = controlRef.current.getBoundingClientRect().width + parseMetricToNum(theme.global.edgeSize.small) * 2;\n  } // Show the number of files when more than one\n\n\n  var message;\n\n  if (!files.length) {\n    message = format({\n      id: multiple ? 'fileInput.dropPromptMultiple' : 'fileInput.dropPrompt',\n      messages: messages\n    });\n  } else message = files.length + \" items\";\n\n  var removeFile = function removeFile(index) {\n    var nextFiles;\n\n    if (index === 'all') {\n      nextFiles = [];\n    } else {\n      nextFiles = [].concat(files);\n      nextFiles.splice(index, 1);\n    }\n\n    setFiles(nextFiles); // Need to have a way to track the files other than an array\n    // since inputRef.current.files is a read-only FileList\n    // https://stackoverflow.com/a/64019766\n\n    /* eslint-disable no-undef */\n\n    var dt = new DataTransfer();\n    var curFiles = inputRef.current.files;\n    if (index === 'all' || nextFiles.length === 0) inputRef.current.value = '';\n\n    for (var i = 0; i < curFiles.length; i += 1) {\n      var curfile = curFiles[i];\n      if (index !== i) dt.items.add(curfile);\n    }\n\n    var nativeInputValueSetter = Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype, 'files').set;\n    nativeInputValueSetter.call(inputRef.current, dt.files);\n    var event = new Event('input', {\n      bubbles: true\n    });\n    inputRef.current.dispatchEvent(event);\n    if (_onChange) _onChange(event, {\n      files: nextFiles\n    });\n    inputRef.current.focus();\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ContentsBox, {\n    theme: theme,\n    flex: false,\n    disabled: disabled,\n    background: mergeTheme('background', 'color'),\n    border: !plain ? mergeTheme('border', 'side') : undefined,\n    margin: mergeTheme('margin'),\n    pad: mergeTheme('pad'),\n    round: mergeTheme('round', 'size'),\n    align: files.length ? 'stretch' : 'center',\n    justify: \"center\",\n    hover: hover,\n    onMouseOver: disabled ? undefined : function () {\n      return setHover(true);\n    },\n    onMouseOut: disabled ? undefined : function () {\n      return setHover(false);\n    },\n    dragOver: dragOver\n  }, (!files.length || files.length > 1) && /*#__PURE__*/React.createElement(Box, {\n    align: \"center\",\n    fill: \"horizontal\",\n    direction: \"row\",\n    justify: \"between\"\n  }, files.length <= aggregateThreshold && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Message, theme.fileInput.message, message), /*#__PURE__*/React.createElement(Keyboard, {\n    onSpace: function onSpace(event) {\n      event.preventDefault();\n      if (controlRef.current === event.target) inputRef.current.click();\n    },\n    onEnter: function onEnter(event) {\n      if (controlRef.current === event.target) inputRef.current.click();\n    }\n  }, theme.fileInput.button ? /*#__PURE__*/React.createElement(Button, {\n    ref: controlRef,\n    kind: theme.fileInput.button,\n    label: format({\n      id: 'fileInput.browse',\n      messages: messages\n    }),\n    onClick: function onClick() {\n      inputRef.current.click();\n      inputRef.current.focus();\n    }\n  }) : /*#__PURE__*/React.createElement(Anchor, {\n    tabIndex: 0,\n    alignSelf: \"center\",\n    ref: controlRef,\n    margin: \"small\",\n    onClick: function onClick() {\n      inputRef.current.click();\n      inputRef.current.focus();\n    },\n    label: format({\n      id: 'fileInput.browse',\n      messages: messages\n    })\n  })))), files.length > aggregateThreshold && /*#__PURE__*/React.createElement(Box, {\n    justify: \"between\",\n    direction: \"row\",\n    align: \"center\"\n  }, /*#__PURE__*/React.createElement(Label, theme.fileInput.label, files.length, ' ', format({\n    id: 'fileInput.files',\n    messages: messages\n  })), /*#__PURE__*/React.createElement(Box, {\n    flex: false,\n    direction: \"row\",\n    align: \"center\"\n  }, /*#__PURE__*/React.createElement(Button, {\n    ref: removeRef,\n    a11yTitle: format({\n      id: 'fileInput.removeAll',\n      messages: messages\n    }),\n    icon: /*#__PURE__*/React.createElement(RemoveIcon, null),\n    hoverIndicator: true,\n    onClick: function onClick(event) {\n      if (confirmRemove) {\n        event.persist(); // necessary for when React < v17\n\n        setPendingRemoval({\n          event: event,\n          index: 'all'\n        });\n        setShowRemoveConfirmation(true);\n      } else removeFile('all');\n    }\n  }), /*#__PURE__*/React.createElement(Keyboard, {\n    onSpace: function onSpace(event) {\n      if (controlRef.current === event.target) inputRef.current.click();\n    },\n    onEnter: function onEnter(event) {\n      if (controlRef.current === event.target) inputRef.current.click();\n    }\n  }, theme.fileInput.button ? /*#__PURE__*/React.createElement(Button, {\n    ref: controlRef,\n    kind: theme.fileInput.button,\n    label: format({\n      id: 'fileInput.browse',\n      messages: messages\n    }),\n    onClick: function onClick() {\n      inputRef.current.click();\n      inputRef.current.focus();\n    }\n  }) : /*#__PURE__*/React.createElement(Anchor, {\n    tabIndex: 0,\n    alignSelf: \"center\",\n    ref: controlRef,\n    margin: \"small\",\n    onClick: function onClick() {\n      inputRef.current.click();\n      inputRef.current.focus();\n    },\n    label: format({\n      id: 'fileInput.browse',\n      messages: messages\n    })\n  })))), files.length > 0 && files.length <= aggregateThreshold && files.map(function (file, index) {\n    return /*#__PURE__*/React.createElement(Box, {\n      key: file.name,\n      justify: \"between\",\n      direction: \"row\",\n      align: \"center\"\n    }, renderFile ? renderFile(file) : /*#__PURE__*/React.createElement(Box, _extends({}, theme.fileInput.label, {\n      gap: \"xsmall\",\n      align: \"center\",\n      direction: \"row\"\n    }), (maxSize && file.size > maxSize || max && index >= max) && /*#__PURE__*/React.createElement(CircleAlert, null), /*#__PURE__*/React.createElement(Label, {\n      weight: theme.global.input.weight || theme.global.input.font.weight,\n      truncate: true\n    }, file.name)), /*#__PURE__*/React.createElement(Box, {\n      flex: false,\n      direction: \"row\",\n      align: \"center\"\n    }, /*#__PURE__*/React.createElement(Button, {\n      ref: index ? undefined : removeRef,\n      a11yTitle: format({\n        id: 'fileInput.remove',\n        messages: messages\n      }) + \" \" + file.name,\n      icon: /*#__PURE__*/React.createElement(RemoveIcon, null),\n      hoverIndicator: true,\n      onClick: function onClick(event) {\n        if (confirmRemove) {\n          event.persist(); // necessary for when React < v17\n\n          setPendingRemoval({\n            event: event,\n            index: index\n          });\n          setShowRemoveConfirmation(true);\n        } else removeFile(index);\n      }\n    }), files.length === 1 && /*#__PURE__*/React.createElement(Keyboard, {\n      onSpace: function onSpace(event) {\n        if (controlRef.current === event.target) inputRef.current.click();\n      },\n      onEnter: function onEnter(event) {\n        if (controlRef.current === event.target) inputRef.current.click();\n      }\n    }, theme.fileInput.button ? /*#__PURE__*/React.createElement(Button, {\n      ref: controlRef,\n      kind: theme.fileInput.button,\n      label: format({\n        id: 'fileInput.browse',\n        messages: messages\n      }),\n      onClick: function onClick() {\n        inputRef.current.click();\n        inputRef.current.focus();\n      }\n    }) : /*#__PURE__*/React.createElement(Anchor, {\n      tabIndex: 0,\n      ref: controlRef,\n      margin: \"small\",\n      onClick: function onClick() {\n        inputRef.current.click();\n        inputRef.current.focus();\n      },\n      label: format({\n        id: 'fileInput.browse',\n        messages: messages\n      })\n    }))));\n  }), /*#__PURE__*/React.createElement(StyledFileInput, _extends({\n    ref: inputRef,\n    type: \"file\",\n    id: id,\n    name: name,\n    maxSize: maxSize,\n    multiple: multiple,\n    disabled: disabled,\n    plain: true,\n    rightOffset: rightOffset\n  }, rest, {\n    onDragOver: function onDragOver() {\n      return setDragOver(true);\n    },\n    onDragLeave: function onDragLeave() {\n      return setDragOver(false);\n    },\n    onChange: function onChange(event) {\n      event.persist();\n      var fileList = event.target.files;\n      var nextFiles = multiple ? [].concat(files) : [];\n\n      var _loop = function _loop(i) {\n        // avoid duplicates\n        var existing = nextFiles.filter(function (file) {\n          return file.name === fileList[i].name && file.size === fileList[i].size;\n        }).length > 0;\n\n        if (!existing) {\n          nextFiles.push(fileList[i]);\n        }\n      };\n\n      for (var i = 0; i < fileList.length; i += 1) {\n        _loop(i);\n      }\n\n      setFiles(nextFiles);\n      setDragOver(false);\n      if (_onChange) _onChange(event, {\n        files: nextFiles\n      });\n    }\n  }))), showRemoveConfirmation && /*#__PURE__*/React.createElement(ConfirmRemove, {\n    onConfirm: function onConfirm() {\n      removeFile(pendingRemoval.index);\n      setPendingRemoval(defaultPendingRemoval);\n      setShowRemoveConfirmation(false);\n    },\n    onCancel: function onCancel() {\n      return setShowRemoveConfirmation(false);\n    }\n  }));\n});\nFileInput.defaultProps = {};\nObject.setPrototypeOf(FileInput.defaultProps, defaultProps);\nFileInput.displayName = 'FileInput';\nFileInput.propTypes = FileInputPropTypes;\nexport { FileInput };"],"mappings":"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"},"metadata":{},"sourceType":"module"}