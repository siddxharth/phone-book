{"ast":null,"code":"var _excluded = [\"a11yTitle\", \"dropHeight\", \"dropProps\", \"focus\", \"focusIndicator\", \"icon\", \"id\", \"mask\", \"name\", \"onBlur\", \"onChange\", \"onFocus\", \"onKeyDown\", \"placeholder\", \"plain\", \"reverse\", \"textAlign\", \"value\"];\n\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nimport React, { forwardRef, useCallback, useContext, useEffect, useMemo, useRef, useState } from 'react';\nimport styled, { ThemeContext } from 'styled-components';\nimport { defaultProps } from '../../default-props';\nimport { Box } from '../Box';\nimport { Button } from '../Button';\nimport { Drop } from '../Drop';\nimport { FormContext } from '../Form/FormContext';\nimport { Keyboard } from '../Keyboard';\nimport { sizeStyle, useForwardedRef } from '../../utils';\nimport { StyledMaskedInput, StyledMaskedInputContainer, StyledIcon } from './StyledMaskedInput';\nimport { MaskedInputPropTypes } from './propTypes';\n\nvar parseValue = function parseValue(mask, value) {\n  // break the value up into mask parts\n  var valueParts = []; // { part, beginIndex, endIndex }\n\n  var valueIndex = 0;\n  var maskIndex = 0;\n\n  while (value !== undefined && valueIndex < value.length && maskIndex < mask.length) {\n    var item = mask[maskIndex];\n    var found = void 0;\n\n    if (item.fixed) {\n      var length = item.fixed.length; // grab however much of value (starting at valueIndex) matches\n      // item.fixed. If none matches it and there is more in value\n      // add in the fixed item.\n\n      var matching = 0;\n\n      while (matching < length && value[valueIndex + matching] === item.fixed[matching]) {\n        matching += 1;\n      }\n\n      if (matching > 0) {\n        var part = value.slice(valueIndex, valueIndex + matching);\n\n        if (valueIndex + matching < value.length) {\n          // matched part of the fixed portion but there's more stuff\n          // after it. Go ahead and fill in the entire fixed chunk\n          part = item.fixed;\n        }\n\n        valueParts.push({\n          part: part,\n          beginIndex: valueIndex,\n          endIndex: valueIndex + matching - 1\n        });\n        valueIndex += matching;\n      } else {\n        valueParts.push({\n          part: item.fixed,\n          beginIndex: valueIndex,\n          endIndex: valueIndex + length - 1\n        });\n      }\n\n      maskIndex += 1;\n      found = true;\n    } else if (item.options && item.restrictToOptions !== false) {\n      // reverse assuming larger is later\n      found = item.options.slice(0).reverse() // eslint-disable-next-line no-loop-func\n      .some(function (option) {\n        var length = option.length;\n        var part = value.slice(valueIndex, valueIndex + length);\n\n        if (part === option) {\n          valueParts.push({\n            part: part,\n            beginIndex: valueIndex,\n            endIndex: valueIndex + length - 1\n          });\n          valueIndex += length;\n          maskIndex += 1;\n          return true;\n        }\n\n        return false;\n      });\n    }\n\n    if (!found) {\n      if (item.regexp) {\n        var minLength = Array.isArray(item.length) && item.length[0] || item.length || 1;\n        var maxLength = Array.isArray(item.length) && item.length[1] || item.length || value.length - valueIndex;\n        var _length = maxLength;\n\n        while (!found && _length >= minLength) {\n          var _part = value.slice(valueIndex, valueIndex + _length);\n\n          if (item.regexp.test(_part)) {\n            valueParts.push({\n              part: _part,\n              beginIndex: valueIndex,\n              endIndex: valueIndex + _length - 1\n            });\n            valueIndex += _length;\n            maskIndex += 1;\n            found = true;\n          }\n\n          _length -= 1;\n        }\n\n        if (!found) {\n          valueIndex = value.length;\n        }\n      } else {\n        var _length2 = Array.isArray(item.length) ? item.length[1] : item.length || value.length - valueIndex;\n\n        var _part2 = value.slice(valueIndex, valueIndex + _length2);\n\n        valueParts.push({\n          part: _part2,\n          beginIndex: valueIndex,\n          endIndex: valueIndex + _length2 - 1\n        });\n        valueIndex += _length2;\n        maskIndex += 1;\n      }\n    }\n  }\n\n  return valueParts;\n};\n\nvar defaultMask = [{\n  regexp: /[^]*/\n}];\nvar ContainerBox = styled(Box).withConfig({\n  displayName: \"MaskedInput__ContainerBox\",\n  componentId: \"sc-af8hzu-0\"\n})([\"\", \";\"], function (props) {\n  return props.dropHeight ? sizeStyle('max-height', props.dropHeight, props.theme) : 'max-height: inherit;';\n});\nvar dropAlign = {\n  top: 'bottom',\n  left: 'left'\n};\nvar MaskedInput = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var a11yTitle = _ref.a11yTitle,\n      dropHeight = _ref.dropHeight,\n      dropProps = _ref.dropProps,\n      focusProp = _ref.focus,\n      _ref$focusIndicator = _ref.focusIndicator,\n      focusIndicator = _ref$focusIndicator === void 0 ? true : _ref$focusIndicator,\n      icon = _ref.icon,\n      id = _ref.id,\n      _ref$mask = _ref.mask,\n      mask = _ref$mask === void 0 ? defaultMask : _ref$mask,\n      name = _ref.name,\n      _onBlur = _ref.onBlur,\n      onChange = _ref.onChange,\n      _onFocus = _ref.onFocus,\n      onKeyDown = _ref.onKeyDown,\n      placeholder = _ref.placeholder,\n      plain = _ref.plain,\n      reverse = _ref.reverse,\n      textAlign = _ref.textAlign,\n      valueProp = _ref.value,\n      rest = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var theme = useContext(ThemeContext) || defaultProps.theme;\n  var formContext = useContext(FormContext);\n\n  var _formContext$useFormI = formContext.useFormInput({\n    name: name,\n    value: valueProp\n  }),\n      value = _formContext$useFormI[0],\n      setValue = _formContext$useFormI[1];\n\n  var valueParts = useMemo(function () {\n    return parseValue(mask, value);\n  }, [mask, value]);\n  var inputRef = useForwardedRef(ref);\n  var dropRef = useRef(); // Caller's ref, if provided\n\n  var _useState = useState(),\n      dropPropsTarget = _useState[0],\n      setDropPropsTarget = _useState[1];\n\n  useEffect(function () {\n    var nextDropPropsTarget; // If caller provided a ref, set to 'pending' until ref.current is defined\n\n    if (dropProps && 'target' in dropProps) {\n      nextDropPropsTarget = dropProps.target || 'pending';\n      setDropPropsTarget(nextDropPropsTarget);\n    }\n  }, [dropProps]);\n\n  var _useState2 = useState(focusProp),\n      focus = _useState2[0],\n      setFocus = _useState2[1];\n\n  var _useState3 = useState(),\n      activeMaskIndex = _useState3[0],\n      setActiveMaskIndex = _useState3[1];\n\n  var _useState4 = useState(),\n      activeOptionIndex = _useState4[0],\n      setActiveOptionIndex = _useState4[1];\n\n  var _useState5 = useState(),\n      showDrop = _useState5[0],\n      setShowDrop = _useState5[1];\n\n  useEffect(function () {\n    if (focus) {\n      var timer = setTimeout(function () {\n        // determine which mask element the caret is at\n        var caretIndex = inputRef.current.selectionStart;\n        var maskIndex;\n        valueParts.some(function (part, index) {\n          if (part.beginIndex <= caretIndex && part.endIndex >= caretIndex) {\n            maskIndex = index;\n            return true;\n          }\n\n          return false;\n        });\n\n        if (maskIndex === undefined && valueParts.length < mask.length) {\n          maskIndex = valueParts.length; // first unused one\n        }\n\n        if (maskIndex && mask[maskIndex].fixed) {\n          maskIndex -= 1; // fixed mask parts are never \"active\"\n        }\n\n        if (maskIndex !== activeMaskIndex) {\n          setActiveMaskIndex(maskIndex);\n          setActiveOptionIndex(-1);\n          setShowDrop(maskIndex >= 0 && mask[maskIndex].options && true);\n        }\n      }, 10); // 10ms empirically chosen\n\n      return function () {\n        return clearTimeout(timer);\n      };\n    }\n\n    return undefined;\n  }, [activeMaskIndex, focus, inputRef, mask, valueParts]);\n  var setInputValue = useCallback(function (nextValue) {\n    // Calling set value function directly on input because React library\n    // overrides setter `event.target.value =` and loses original event\n    // target fidelity.\n    // https://stackoverflow.com/a/46012210 &&\n    // https://github.com/grommet/grommet/pull/3171#discussion_r296415239\n    var nativeInputValueSetter = Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype, 'value').set;\n    nativeInputValueSetter.call(inputRef.current, nextValue);\n    var event = new Event('input', {\n      bubbles: true\n    });\n    inputRef.current.dispatchEvent(event);\n  }, [inputRef]); // This could be due to a paste or as the user is typing.\n\n  var onChangeInput = useCallback(function (event) {\n    var eventValue = event.target.value; // Align with the mask.\n\n    var nextValueParts = parseValue(mask, eventValue);\n    var nextValue = nextValueParts.map(function (part) {\n      return part.part;\n    }).join('');\n\n    if (nextValue !== eventValue) {\n      // The mask adjusted the next value. If something was added,\n      // the value must be valid. Change the actual input value\n      // to correspond.\n      // This will re-trigger this callback with the next value.\n      if (nextValue.length > eventValue.length) setInputValue(nextValue); // If the nextValue is shorter, something must be invalid.\n      else if (value && eventValue.length < value.length) {\n        // If the user is removing characters, preserve what the\n        // user is working on.\n        setValue(eventValue);\n        if (onChange) onChange(event);\n      } else {\n        // If the user is adding invalid characters, don't allow it.\n        // Revert to the prior value.\n        setInputValue(value);\n      }\n    } else if (value !== nextValue) {\n      setValue(nextValue);\n      if (onChange) onChange(event);\n    }\n  }, [mask, onChange, setInputValue, setValue, value]);\n  var onOption = useCallback(function (option) {\n    return function () {\n      var nextValueParts = [].concat(valueParts);\n      nextValueParts[activeMaskIndex] = {\n        part: option\n      }; // add any fixed parts that follow\n\n      var index = activeMaskIndex + 1;\n\n      while (index < mask.length && !nextValueParts[index] && mask[index].fixed) {\n        nextValueParts[index] = {\n          part: mask[index].fixed\n        };\n        index += 1;\n      }\n\n      var nextValue = nextValueParts.map(function (part) {\n        return part.part;\n      }).join('');\n      setInputValue(nextValue); // restore focus to input\n\n      inputRef.current.focus();\n    };\n  }, [activeMaskIndex, inputRef, mask, setInputValue, valueParts]);\n  var onNextOption = useCallback(function (event) {\n    var item = mask[activeMaskIndex];\n\n    if (item && item.options) {\n      event.preventDefault();\n      var index = Math.min(activeOptionIndex + 1, item.options.length - 1);\n      setActiveOptionIndex(index);\n    }\n  }, [activeMaskIndex, activeOptionIndex, mask]);\n  var onPreviousOption = useCallback(function (event) {\n    if (activeMaskIndex >= 0 && mask[activeMaskIndex].options) {\n      event.preventDefault();\n      var index = Math.max(activeOptionIndex - 1, 0);\n      setActiveOptionIndex(index);\n    }\n  }, [activeMaskIndex, activeOptionIndex, mask]);\n  var onSelectOption = useCallback(function (event) {\n    if (activeMaskIndex >= 0 && activeOptionIndex >= 0) {\n      event.preventDefault();\n      var option = mask[activeMaskIndex].options[activeOptionIndex];\n      onOption(option)();\n    }\n  }, [activeMaskIndex, activeOptionIndex, mask, onOption]);\n  var onEsc = useCallback(function (event) {\n    if (showDrop) {\n      // we have to stop both synthetic events and native events\n      // drop and layer should not close by pressing esc on this input\n      event.stopPropagation();\n      event.nativeEvent.stopImmediatePropagation();\n      setShowDrop(false);\n    }\n  }, [showDrop]);\n  var onHideDrop = useCallback(function () {\n    return setShowDrop(false);\n  }, []);\n\n  var renderPlaceholder = function renderPlaceholder() {\n    return mask.map(function (item) {\n      return item.placeholder || item.fixed;\n    }).join('');\n  };\n\n  return /*#__PURE__*/React.createElement(StyledMaskedInputContainer, {\n    plain: plain\n  }, icon && /*#__PURE__*/React.createElement(StyledIcon, {\n    reverse: reverse,\n    theme: theme\n  }, icon), /*#__PURE__*/React.createElement(Keyboard, {\n    onEsc: onEsc,\n    onTab: showDrop ? function () {\n      return setShowDrop(false);\n    } : undefined,\n    onLeft: undefined,\n    onRight: undefined,\n    onUp: onPreviousOption,\n    onDown: showDrop ? onNextOption : function () {\n      return setShowDrop(true);\n    },\n    onEnter: onSelectOption,\n    onKeyDown: onKeyDown\n  }, /*#__PURE__*/React.createElement(StyledMaskedInput, _extends({\n    ref: inputRef,\n    \"aria-label\": a11yTitle,\n    id: id,\n    name: name,\n    autoComplete: \"off\",\n    focusIndicator: focusIndicator,\n    plain: plain,\n    placeholder: placeholder || renderPlaceholder(),\n    icon: icon,\n    reverse: reverse,\n    focus: focus,\n    textAlign: textAlign\n  }, rest, {\n    value: value,\n    theme: theme,\n    onFocus: function onFocus(event) {\n      setFocus(true);\n      setShowDrop(true);\n      if (_onFocus) _onFocus(event);\n    },\n    onBlur: function onBlur(event) {\n      setFocus(false); // This will be called when the user clicks on a suggestion,\n      // check for that and don't remove the drop in that case.\n      // Drop will already have removed itself if the user has focused\n      // outside of the Drop.\n\n      if (!dropRef.current) setShowDrop(false);\n      if (_onBlur) _onBlur(event);\n    },\n    onChange: onChangeInput\n  }))), showDrop && mask[activeMaskIndex] && mask[activeMaskIndex].options && // If caller has specified dropProps.target, ensure target is defined\n  dropPropsTarget !== 'pending' && /*#__PURE__*/React.createElement(Drop, _extends({\n    id: id ? \"masked-input-drop__\" + id : undefined,\n    align: dropAlign,\n    responsive: false,\n    target: inputRef.current,\n    onClickOutside: onHideDrop,\n    onEsc: onHideDrop\n  }, dropProps), /*#__PURE__*/React.createElement(ContainerBox, {\n    ref: dropRef,\n    overflow: \"auto\",\n    dropHeight: dropHeight\n  }, mask[activeMaskIndex].options.map(function (option, index) {\n    // Determine whether the label is done as a child or\n    // as an option Button kind property.\n    var child = !theme.button.option ? /*#__PURE__*/React.createElement(Box, {\n      pad: {\n        horizontal: 'small',\n        vertical: 'xsmall'\n      }\n    }, option) : undefined; // if we have a child, turn on plain, and hoverIndicator\n\n    return /*#__PURE__*/React.createElement(Box, {\n      key: option,\n      flex: false\n    }, /*#__PURE__*/React.createElement(Button, {\n      tabIndex: \"-1\",\n      onClick: onOption(option),\n      onMouseOver: function onMouseOver() {\n        return setActiveOptionIndex(index);\n      },\n      onFocus: function onFocus() {},\n      active: index === activeOptionIndex,\n      plain: !child ? undefined : true,\n      align: \"start\",\n      kind: !child ? 'option' : undefined,\n      hoverIndicator: !child ? undefined : 'background',\n      label: !child ? option : undefined\n    }, child));\n  }))));\n});\nMaskedInput.displayName = 'MaskedInput';\nMaskedInput.propTypes = MaskedInputPropTypes;\nexport { MaskedInput };","map":{"version":3,"names":["_excluded","_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf","React","forwardRef","useCallback","useContext","useEffect","useMemo","useRef","useState","styled","ThemeContext","defaultProps","Box","Button","Drop","FormContext","Keyboard","sizeStyle","useForwardedRef","StyledMaskedInput","StyledMaskedInputContainer","StyledIcon","MaskedInputPropTypes","parseValue","mask","value","valueParts","valueIndex","maskIndex","undefined","item","found","fixed","matching","part","slice","push","beginIndex","endIndex","options","restrictToOptions","reverse","some","option","regexp","minLength","Array","isArray","maxLength","_length","_part","test","_length2","_part2","defaultMask","ContainerBox","withConfig","displayName","componentId","props","dropHeight","theme","dropAlign","top","left","MaskedInput","_ref","ref","a11yTitle","dropProps","focusProp","focus","_ref$focusIndicator","focusIndicator","icon","id","_ref$mask","name","_onBlur","onBlur","onChange","_onFocus","onFocus","onKeyDown","placeholder","plain","textAlign","valueProp","rest","formContext","_formContext$useFormI","useFormInput","setValue","inputRef","dropRef","_useState","dropPropsTarget","setDropPropsTarget","nextDropPropsTarget","_useState2","setFocus","_useState3","activeMaskIndex","setActiveMaskIndex","_useState4","activeOptionIndex","setActiveOptionIndex","_useState5","showDrop","setShowDrop","timer","setTimeout","caretIndex","current","selectionStart","index","clearTimeout","setInputValue","nextValue","nativeInputValueSetter","getOwnPropertyDescriptor","window","HTMLInputElement","set","event","Event","bubbles","dispatchEvent","onChangeInput","eventValue","nextValueParts","map","join","onOption","concat","onNextOption","preventDefault","Math","min","onPreviousOption","max","onSelectOption","onEsc","stopPropagation","nativeEvent","stopImmediatePropagation","onHideDrop","renderPlaceholder","createElement","onTab","onLeft","onRight","onUp","onDown","onEnter","autoComplete","align","responsive","onClickOutside","overflow","child","button","pad","horizontal","vertical","flex","tabIndex","onClick","onMouseOver","active","kind","hoverIndicator","label","propTypes"],"sources":["/Users/siddharthkhatri/Developer/React JS/phone-book/node_modules/grommet/es6/components/MaskedInput/MaskedInput.js"],"sourcesContent":["var _excluded = [\"a11yTitle\", \"dropHeight\", \"dropProps\", \"focus\", \"focusIndicator\", \"icon\", \"id\", \"mask\", \"name\", \"onBlur\", \"onChange\", \"onFocus\", \"onKeyDown\", \"placeholder\", \"plain\", \"reverse\", \"textAlign\", \"value\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef, useCallback, useContext, useEffect, useMemo, useRef, useState } from 'react';\nimport styled, { ThemeContext } from 'styled-components';\nimport { defaultProps } from '../../default-props';\nimport { Box } from '../Box';\nimport { Button } from '../Button';\nimport { Drop } from '../Drop';\nimport { FormContext } from '../Form/FormContext';\nimport { Keyboard } from '../Keyboard';\nimport { sizeStyle, useForwardedRef } from '../../utils';\nimport { StyledMaskedInput, StyledMaskedInputContainer, StyledIcon } from './StyledMaskedInput';\nimport { MaskedInputPropTypes } from './propTypes';\n\nvar parseValue = function parseValue(mask, value) {\n  // break the value up into mask parts\n  var valueParts = []; // { part, beginIndex, endIndex }\n\n  var valueIndex = 0;\n  var maskIndex = 0;\n\n  while (value !== undefined && valueIndex < value.length && maskIndex < mask.length) {\n    var item = mask[maskIndex];\n    var found = void 0;\n\n    if (item.fixed) {\n      var length = item.fixed.length; // grab however much of value (starting at valueIndex) matches\n      // item.fixed. If none matches it and there is more in value\n      // add in the fixed item.\n\n      var matching = 0;\n\n      while (matching < length && value[valueIndex + matching] === item.fixed[matching]) {\n        matching += 1;\n      }\n\n      if (matching > 0) {\n        var part = value.slice(valueIndex, valueIndex + matching);\n\n        if (valueIndex + matching < value.length) {\n          // matched part of the fixed portion but there's more stuff\n          // after it. Go ahead and fill in the entire fixed chunk\n          part = item.fixed;\n        }\n\n        valueParts.push({\n          part: part,\n          beginIndex: valueIndex,\n          endIndex: valueIndex + matching - 1\n        });\n        valueIndex += matching;\n      } else {\n        valueParts.push({\n          part: item.fixed,\n          beginIndex: valueIndex,\n          endIndex: valueIndex + length - 1\n        });\n      }\n\n      maskIndex += 1;\n      found = true;\n    } else if (item.options && item.restrictToOptions !== false) {\n      // reverse assuming larger is later\n      found = item.options.slice(0).reverse() // eslint-disable-next-line no-loop-func\n      .some(function (option) {\n        var length = option.length;\n        var part = value.slice(valueIndex, valueIndex + length);\n\n        if (part === option) {\n          valueParts.push({\n            part: part,\n            beginIndex: valueIndex,\n            endIndex: valueIndex + length - 1\n          });\n          valueIndex += length;\n          maskIndex += 1;\n          return true;\n        }\n\n        return false;\n      });\n    }\n\n    if (!found) {\n      if (item.regexp) {\n        var minLength = Array.isArray(item.length) && item.length[0] || item.length || 1;\n        var maxLength = Array.isArray(item.length) && item.length[1] || item.length || value.length - valueIndex;\n        var _length = maxLength;\n\n        while (!found && _length >= minLength) {\n          var _part = value.slice(valueIndex, valueIndex + _length);\n\n          if (item.regexp.test(_part)) {\n            valueParts.push({\n              part: _part,\n              beginIndex: valueIndex,\n              endIndex: valueIndex + _length - 1\n            });\n            valueIndex += _length;\n            maskIndex += 1;\n            found = true;\n          }\n\n          _length -= 1;\n        }\n\n        if (!found) {\n          valueIndex = value.length;\n        }\n      } else {\n        var _length2 = Array.isArray(item.length) ? item.length[1] : item.length || value.length - valueIndex;\n\n        var _part2 = value.slice(valueIndex, valueIndex + _length2);\n\n        valueParts.push({\n          part: _part2,\n          beginIndex: valueIndex,\n          endIndex: valueIndex + _length2 - 1\n        });\n        valueIndex += _length2;\n        maskIndex += 1;\n      }\n    }\n  }\n\n  return valueParts;\n};\n\nvar defaultMask = [{\n  regexp: /[^]*/\n}];\nvar ContainerBox = styled(Box).withConfig({\n  displayName: \"MaskedInput__ContainerBox\",\n  componentId: \"sc-af8hzu-0\"\n})([\"\", \";\"], function (props) {\n  return props.dropHeight ? sizeStyle('max-height', props.dropHeight, props.theme) : 'max-height: inherit;';\n});\nvar dropAlign = {\n  top: 'bottom',\n  left: 'left'\n};\nvar MaskedInput = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var a11yTitle = _ref.a11yTitle,\n      dropHeight = _ref.dropHeight,\n      dropProps = _ref.dropProps,\n      focusProp = _ref.focus,\n      _ref$focusIndicator = _ref.focusIndicator,\n      focusIndicator = _ref$focusIndicator === void 0 ? true : _ref$focusIndicator,\n      icon = _ref.icon,\n      id = _ref.id,\n      _ref$mask = _ref.mask,\n      mask = _ref$mask === void 0 ? defaultMask : _ref$mask,\n      name = _ref.name,\n      _onBlur = _ref.onBlur,\n      onChange = _ref.onChange,\n      _onFocus = _ref.onFocus,\n      onKeyDown = _ref.onKeyDown,\n      placeholder = _ref.placeholder,\n      plain = _ref.plain,\n      reverse = _ref.reverse,\n      textAlign = _ref.textAlign,\n      valueProp = _ref.value,\n      rest = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var theme = useContext(ThemeContext) || defaultProps.theme;\n  var formContext = useContext(FormContext);\n\n  var _formContext$useFormI = formContext.useFormInput({\n    name: name,\n    value: valueProp\n  }),\n      value = _formContext$useFormI[0],\n      setValue = _formContext$useFormI[1];\n\n  var valueParts = useMemo(function () {\n    return parseValue(mask, value);\n  }, [mask, value]);\n  var inputRef = useForwardedRef(ref);\n  var dropRef = useRef(); // Caller's ref, if provided\n\n  var _useState = useState(),\n      dropPropsTarget = _useState[0],\n      setDropPropsTarget = _useState[1];\n\n  useEffect(function () {\n    var nextDropPropsTarget; // If caller provided a ref, set to 'pending' until ref.current is defined\n\n    if (dropProps && 'target' in dropProps) {\n      nextDropPropsTarget = dropProps.target || 'pending';\n      setDropPropsTarget(nextDropPropsTarget);\n    }\n  }, [dropProps]);\n\n  var _useState2 = useState(focusProp),\n      focus = _useState2[0],\n      setFocus = _useState2[1];\n\n  var _useState3 = useState(),\n      activeMaskIndex = _useState3[0],\n      setActiveMaskIndex = _useState3[1];\n\n  var _useState4 = useState(),\n      activeOptionIndex = _useState4[0],\n      setActiveOptionIndex = _useState4[1];\n\n  var _useState5 = useState(),\n      showDrop = _useState5[0],\n      setShowDrop = _useState5[1];\n\n  useEffect(function () {\n    if (focus) {\n      var timer = setTimeout(function () {\n        // determine which mask element the caret is at\n        var caretIndex = inputRef.current.selectionStart;\n        var maskIndex;\n        valueParts.some(function (part, index) {\n          if (part.beginIndex <= caretIndex && part.endIndex >= caretIndex) {\n            maskIndex = index;\n            return true;\n          }\n\n          return false;\n        });\n\n        if (maskIndex === undefined && valueParts.length < mask.length) {\n          maskIndex = valueParts.length; // first unused one\n        }\n\n        if (maskIndex && mask[maskIndex].fixed) {\n          maskIndex -= 1; // fixed mask parts are never \"active\"\n        }\n\n        if (maskIndex !== activeMaskIndex) {\n          setActiveMaskIndex(maskIndex);\n          setActiveOptionIndex(-1);\n          setShowDrop(maskIndex >= 0 && mask[maskIndex].options && true);\n        }\n      }, 10); // 10ms empirically chosen\n\n      return function () {\n        return clearTimeout(timer);\n      };\n    }\n\n    return undefined;\n  }, [activeMaskIndex, focus, inputRef, mask, valueParts]);\n  var setInputValue = useCallback(function (nextValue) {\n    // Calling set value function directly on input because React library\n    // overrides setter `event.target.value =` and loses original event\n    // target fidelity.\n    // https://stackoverflow.com/a/46012210 &&\n    // https://github.com/grommet/grommet/pull/3171#discussion_r296415239\n    var nativeInputValueSetter = Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype, 'value').set;\n    nativeInputValueSetter.call(inputRef.current, nextValue);\n    var event = new Event('input', {\n      bubbles: true\n    });\n    inputRef.current.dispatchEvent(event);\n  }, [inputRef]); // This could be due to a paste or as the user is typing.\n\n  var onChangeInput = useCallback(function (event) {\n    var eventValue = event.target.value; // Align with the mask.\n\n    var nextValueParts = parseValue(mask, eventValue);\n    var nextValue = nextValueParts.map(function (part) {\n      return part.part;\n    }).join('');\n\n    if (nextValue !== eventValue) {\n      // The mask adjusted the next value. If something was added,\n      // the value must be valid. Change the actual input value\n      // to correspond.\n      // This will re-trigger this callback with the next value.\n      if (nextValue.length > eventValue.length) setInputValue(nextValue); // If the nextValue is shorter, something must be invalid.\n      else if (value && eventValue.length < value.length) {\n        // If the user is removing characters, preserve what the\n        // user is working on.\n        setValue(eventValue);\n        if (onChange) onChange(event);\n      } else {\n        // If the user is adding invalid characters, don't allow it.\n        // Revert to the prior value.\n        setInputValue(value);\n      }\n    } else if (value !== nextValue) {\n      setValue(nextValue);\n      if (onChange) onChange(event);\n    }\n  }, [mask, onChange, setInputValue, setValue, value]);\n  var onOption = useCallback(function (option) {\n    return function () {\n      var nextValueParts = [].concat(valueParts);\n      nextValueParts[activeMaskIndex] = {\n        part: option\n      }; // add any fixed parts that follow\n\n      var index = activeMaskIndex + 1;\n\n      while (index < mask.length && !nextValueParts[index] && mask[index].fixed) {\n        nextValueParts[index] = {\n          part: mask[index].fixed\n        };\n        index += 1;\n      }\n\n      var nextValue = nextValueParts.map(function (part) {\n        return part.part;\n      }).join('');\n      setInputValue(nextValue); // restore focus to input\n\n      inputRef.current.focus();\n    };\n  }, [activeMaskIndex, inputRef, mask, setInputValue, valueParts]);\n  var onNextOption = useCallback(function (event) {\n    var item = mask[activeMaskIndex];\n\n    if (item && item.options) {\n      event.preventDefault();\n      var index = Math.min(activeOptionIndex + 1, item.options.length - 1);\n      setActiveOptionIndex(index);\n    }\n  }, [activeMaskIndex, activeOptionIndex, mask]);\n  var onPreviousOption = useCallback(function (event) {\n    if (activeMaskIndex >= 0 && mask[activeMaskIndex].options) {\n      event.preventDefault();\n      var index = Math.max(activeOptionIndex - 1, 0);\n      setActiveOptionIndex(index);\n    }\n  }, [activeMaskIndex, activeOptionIndex, mask]);\n  var onSelectOption = useCallback(function (event) {\n    if (activeMaskIndex >= 0 && activeOptionIndex >= 0) {\n      event.preventDefault();\n      var option = mask[activeMaskIndex].options[activeOptionIndex];\n      onOption(option)();\n    }\n  }, [activeMaskIndex, activeOptionIndex, mask, onOption]);\n  var onEsc = useCallback(function (event) {\n    if (showDrop) {\n      // we have to stop both synthetic events and native events\n      // drop and layer should not close by pressing esc on this input\n      event.stopPropagation();\n      event.nativeEvent.stopImmediatePropagation();\n      setShowDrop(false);\n    }\n  }, [showDrop]);\n  var onHideDrop = useCallback(function () {\n    return setShowDrop(false);\n  }, []);\n\n  var renderPlaceholder = function renderPlaceholder() {\n    return mask.map(function (item) {\n      return item.placeholder || item.fixed;\n    }).join('');\n  };\n\n  return /*#__PURE__*/React.createElement(StyledMaskedInputContainer, {\n    plain: plain\n  }, icon && /*#__PURE__*/React.createElement(StyledIcon, {\n    reverse: reverse,\n    theme: theme\n  }, icon), /*#__PURE__*/React.createElement(Keyboard, {\n    onEsc: onEsc,\n    onTab: showDrop ? function () {\n      return setShowDrop(false);\n    } : undefined,\n    onLeft: undefined,\n    onRight: undefined,\n    onUp: onPreviousOption,\n    onDown: showDrop ? onNextOption : function () {\n      return setShowDrop(true);\n    },\n    onEnter: onSelectOption,\n    onKeyDown: onKeyDown\n  }, /*#__PURE__*/React.createElement(StyledMaskedInput, _extends({\n    ref: inputRef,\n    \"aria-label\": a11yTitle,\n    id: id,\n    name: name,\n    autoComplete: \"off\",\n    focusIndicator: focusIndicator,\n    plain: plain,\n    placeholder: placeholder || renderPlaceholder(),\n    icon: icon,\n    reverse: reverse,\n    focus: focus,\n    textAlign: textAlign\n  }, rest, {\n    value: value,\n    theme: theme,\n    onFocus: function onFocus(event) {\n      setFocus(true);\n      setShowDrop(true);\n      if (_onFocus) _onFocus(event);\n    },\n    onBlur: function onBlur(event) {\n      setFocus(false); // This will be called when the user clicks on a suggestion,\n      // check for that and don't remove the drop in that case.\n      // Drop will already have removed itself if the user has focused\n      // outside of the Drop.\n\n      if (!dropRef.current) setShowDrop(false);\n      if (_onBlur) _onBlur(event);\n    },\n    onChange: onChangeInput\n  }))), showDrop && mask[activeMaskIndex] && mask[activeMaskIndex].options && // If caller has specified dropProps.target, ensure target is defined\n  dropPropsTarget !== 'pending' && /*#__PURE__*/React.createElement(Drop, _extends({\n    id: id ? \"masked-input-drop__\" + id : undefined,\n    align: dropAlign,\n    responsive: false,\n    target: inputRef.current,\n    onClickOutside: onHideDrop,\n    onEsc: onHideDrop\n  }, dropProps), /*#__PURE__*/React.createElement(ContainerBox, {\n    ref: dropRef,\n    overflow: \"auto\",\n    dropHeight: dropHeight\n  }, mask[activeMaskIndex].options.map(function (option, index) {\n    // Determine whether the label is done as a child or\n    // as an option Button kind property.\n    var child = !theme.button.option ? /*#__PURE__*/React.createElement(Box, {\n      pad: {\n        horizontal: 'small',\n        vertical: 'xsmall'\n      }\n    }, option) : undefined; // if we have a child, turn on plain, and hoverIndicator\n\n    return /*#__PURE__*/React.createElement(Box, {\n      key: option,\n      flex: false\n    }, /*#__PURE__*/React.createElement(Button, {\n      tabIndex: \"-1\",\n      onClick: onOption(option),\n      onMouseOver: function onMouseOver() {\n        return setActiveOptionIndex(index);\n      },\n      onFocus: function onFocus() {},\n      active: index === activeOptionIndex,\n      plain: !child ? undefined : true,\n      align: \"start\",\n      kind: !child ? 'option' : undefined,\n      hoverIndicator: !child ? undefined : 'background',\n      label: !child ? option : undefined\n    }, child));\n  }))));\n});\nMaskedInput.displayName = 'MaskedInput';\nMaskedInput.propTypes = MaskedInputPropTypes;\nexport { MaskedInput };"],"mappings":"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"},"metadata":{},"sourceType":"module"}