{"ast":null,"code":"var _excluded = [\"a11yTitle\", \"aria-label\", \"align\", \"background\", \"onAlign\", \"children\", \"dropTarget\", \"elevation\", \"onClickOutside\", \"onEsc\", \"onKeyDown\", \"overflow\", \"plain\", \"responsive\", \"restrictFocus\", \"stretch\", \"trapFocus\"];\n\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nimport React, { forwardRef, useContext, useEffect, useMemo, useRef } from 'react';\nimport { ThemeContext } from 'styled-components';\nimport { ContainerTargetContext } from '../../contexts/ContainerTargetContext';\nimport { FocusedContainer } from '../FocusedContainer';\nimport { backgroundIsDark, findScrollParents, parseMetricToNum, PortalContext } from '../../utils';\nimport { defaultProps } from '../../default-props';\nimport { Box } from '../Box';\nimport { Keyboard } from '../Keyboard';\nimport { StyledDrop } from './StyledDrop'; // using react synthetic event to be able to stop propagation that\n// would otherwise close the layer on ESC.\n\nvar preventLayerClose = function preventLayerClose(event) {\n  var key = event.keyCode ? event.keyCode : event.which;\n\n  if (key === 27) {\n    event.stopPropagation();\n  }\n};\n\nvar defaultAlign = {\n  top: 'top',\n  left: 'left'\n};\nvar defaultPortalContext = [];\nvar DropContainer = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var a11yTitle = _ref.a11yTitle,\n      ariaLabel = _ref['aria-label'],\n      _ref$align = _ref.align,\n      align = _ref$align === void 0 ? defaultAlign : _ref$align,\n      background = _ref.background,\n      onAlign = _ref.onAlign,\n      children = _ref.children,\n      dropTarget = _ref.dropTarget,\n      elevation = _ref.elevation,\n      onClickOutside = _ref.onClickOutside,\n      onEsc = _ref.onEsc,\n      onKeyDown = _ref.onKeyDown,\n      _ref$overflow = _ref.overflow,\n      overflow = _ref$overflow === void 0 ? 'auto' : _ref$overflow,\n      plain = _ref.plain,\n      responsive = _ref.responsive,\n      restrictFocus = _ref.restrictFocus,\n      _ref$stretch = _ref.stretch,\n      stretch = _ref$stretch === void 0 ? 'width' : _ref$stretch,\n      trapFocus = _ref.trapFocus,\n      rest = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var containerTarget = useContext(ContainerTargetContext);\n  var theme = useContext(ThemeContext) || defaultProps.theme;\n  var portalContext = useContext(PortalContext) || defaultPortalContext;\n  var portalId = useMemo(function () {\n    return portalContext.length;\n  }, [portalContext]);\n  var nextPortalContext = useMemo(function () {\n    return [].concat(portalContext, [portalId]);\n  }, [portalContext, portalId]);\n  var dropRef = useRef();\n  useEffect(function () {\n    var notifyAlign = function notifyAlign() {\n      var styleCurrent = (ref || dropRef).current.style;\n      var alignControl = styleCurrent.top !== '' ? 'top' : 'bottom';\n      onAlign(alignControl);\n    }; // We try to preserve the maxHeight as changing it causes any scroll\n    // position to be lost. We set the maxHeight on mount and if the window\n    // is resized.\n\n\n    var place = function place(preserveHeight) {\n      var windowWidth = window.innerWidth;\n      var windowHeight = window.innerHeight;\n      var target = dropTarget;\n      var container = (ref || dropRef).current;\n\n      if (container && target) {\n        // clear prior styling\n        container.style.left = '';\n        container.style.top = '';\n        container.style.bottom = '';\n        container.style.width = '';\n\n        if (!preserveHeight) {\n          container.style.maxHeight = '';\n        } // get bounds\n\n\n        var targetRect = target.getBoundingClientRect();\n        var containerRect = container.getBoundingClientRect(); // determine width\n\n        var width;\n\n        if (stretch) {\n          width = Math.min(stretch === 'align' ? Math.min(targetRect.width, containerRect.width) : Math.max(targetRect.width, containerRect.width), windowWidth);\n        } else {\n          width = Math.min(containerRect.width, windowWidth);\n        } // set left position\n\n\n        var left;\n\n        if (align.left) {\n          if (align.left === 'left') {\n            left = targetRect.left;\n          } else if (align.left === 'right') {\n            left = targetRect.left + targetRect.width;\n          }\n        } else if (align.right) {\n          if (align.right === 'left') {\n            left = targetRect.left - width;\n          } else if (align.right === 'right') {\n            left = targetRect.left + targetRect.width - width;\n          }\n        } else {\n          left = targetRect.left + targetRect.width / 2 - width / 2;\n        }\n\n        if (left + width > windowWidth) {\n          left -= left + width - windowWidth;\n        } else if (left < 0) {\n          left = 0;\n        } // set top or bottom position\n\n\n        var top;\n        var bottom;\n        var maxHeight = containerRect.height;\n\n        if (align.top) {\n          if (align.top === 'top') {\n            top = targetRect.top;\n          } else {\n            top = targetRect.bottom;\n          } // Calculate visible area underneath the control w.r.t window height\n\n\n          var percentVisibleAreaBelow = 100 - targetRect.bottom / windowHeight * 100; // Check whether it is within 20% from bottom of the window or\n          // visible area to flip the control\n          // DropContainer doesn't fit well within visible area when\n          // percentVisibleAreaBelow value<=20%\n          // There is enough space from DropContainer to bottom of the window\n          // when percentVisibleAreaBelow>20%.\n\n          if (windowHeight === top || percentVisibleAreaBelow <= 20) {\n            // We need more room than we have.\n            // We put it below, but there's more room above, put it above\n            top = '';\n\n            if (align.top === 'bottom') {\n              bottom = targetRect.top;\n            } else {\n              bottom = targetRect.bottom;\n            }\n\n            maxHeight = bottom;\n            container.style.maxHeight = maxHeight + \"px\";\n          } else if (top > 0) {\n            maxHeight = windowHeight - top;\n            container.style.maxHeight = maxHeight + \"px\";\n          } else {\n            maxHeight = windowHeight - top;\n          }\n        } else if (align.bottom) {\n          if (align.bottom === 'bottom') {\n            bottom = targetRect.bottom;\n          } else {\n            bottom = targetRect.top;\n          }\n\n          maxHeight = bottom;\n          container.style.maxHeight = maxHeight + \"px\";\n        } else {\n          // center\n          top = targetRect.top + targetRect.height / 2 - containerRect.height / 2;\n          maxHeight = windowHeight - top;\n        } // if we can't fit it all, or we're rather close,\n        // see if there's more room the other direction\n\n\n        if (responsive && (containerRect.height > maxHeight || maxHeight < windowHeight / 10)) {\n          // We need more room than we have.\n          if (align.top && top > windowHeight / 2) {\n            // We put it below, but there's more room above, put it above\n            top = '';\n\n            if (align.top === 'bottom') {\n              // top = Math.max(targetRect.top - containerRect.height, 0);\n              // maxHeight = targetRect.top - top;\n              bottom = targetRect.top;\n            } else {\n              // top = Math.max(targetRect.bottom - containerRect.height, 0);\n              // maxHeight = targetRect.bottom - top;\n              bottom = targetRect.bottom;\n            }\n\n            maxHeight = bottom;\n          } else if (align.bottom && maxHeight < windowHeight / 2) {\n            // We put it above but there's more room below, put it below\n            bottom = '';\n\n            if (align.bottom === 'bottom') {\n              top = targetRect.top;\n            } else {\n              top = targetRect.bottom;\n            }\n\n            maxHeight = windowHeight - top;\n          }\n        }\n\n        container.style.left = left + \"px\";\n\n        if (stretch) {\n          // offset width by 0.1 to avoid a bug in ie11 that\n          // unnecessarily wraps the text if width is the same\n          // NOTE: turned off for now\n          container.style.width = width + 0.1 + \"px\";\n        } // the (position:absolute + scrollTop)\n        // is presenting issues with desktop scroll flickering\n\n\n        if (top !== '') {\n          container.style.top = top + \"px\";\n        }\n\n        if (bottom !== '') {\n          container.style.bottom = windowHeight - bottom + \"px\";\n        }\n\n        if (!preserveHeight) {\n          if (theme.drop && theme.drop.maxHeight) {\n            maxHeight = Math.min(maxHeight, parseMetricToNum(theme.drop.maxHeight));\n          }\n\n          container.style.maxHeight = maxHeight + \"px\";\n        }\n      }\n\n      if (onAlign) notifyAlign();\n    };\n\n    var scrollParents;\n\n    var addScrollListeners = function addScrollListeners() {\n      scrollParents = findScrollParents(dropTarget);\n      scrollParents.forEach(function (scrollParent) {\n        return scrollParent.addEventListener('scroll', place);\n      });\n    };\n\n    var removeScrollListeners = function removeScrollListeners() {\n      scrollParents.forEach(function (scrollParent) {\n        return scrollParent.removeEventListener('scroll', place);\n      });\n      scrollParents = [];\n    };\n\n    var onClickDocument = function onClickDocument(event) {\n      // determine which portal id the target is in, if any\n      var clickedPortalId = null;\n      var node = containerTarget === document.body ? event.target : event == null ? void 0 : event.path[0];\n\n      while (clickedPortalId === null && node !== document) {\n        var attr = node.getAttribute('data-g-portal-id');\n        if (attr !== null) clickedPortalId = parseInt(attr, 10);\n        node = node.parentNode;\n      }\n\n      if (clickedPortalId === null || portalContext.indexOf(clickedPortalId) !== -1) {\n        onClickOutside(event);\n      }\n    };\n\n    var onResize = function onResize() {\n      removeScrollListeners();\n      addScrollListeners();\n      place(false);\n    };\n\n    addScrollListeners();\n    window.addEventListener('resize', onResize);\n\n    if (onClickOutside) {\n      document.addEventListener('mousedown', onClickDocument);\n    }\n\n    place(false);\n    return function () {\n      removeScrollListeners();\n      window.removeEventListener('resize', onResize);\n\n      if (onClickOutside) {\n        document.removeEventListener('mousedown', onClickDocument);\n      }\n    };\n  }, [align, containerTarget, onAlign, dropTarget, onClickOutside, portalContext, portalId, ref, responsive, restrictFocus, stretch, theme.drop]);\n  useEffect(function () {\n    if (restrictFocus) {\n      (ref || dropRef).current.focus();\n    }\n  }, [ref, restrictFocus]);\n  var content = /*#__PURE__*/React.createElement(StyledDrop, _extends({\n    \"aria-label\": a11yTitle || ariaLabel,\n    ref: ref || dropRef,\n    as: Box,\n    background: background,\n    plain: plain,\n    elevation: !plain ? elevation || theme.global.drop.elevation || theme.global.drop.shadowSize || // backward compatibility\n    'small' : undefined,\n    tabIndex: \"-1\",\n    alignProp: align,\n    overflow: overflow,\n    \"data-g-portal-id\": portalId\n  }, rest), children);\n  var themeContextValue = useMemo(function () {\n    var dark;\n\n    if (background || theme.global.drop.background) {\n      dark = backgroundIsDark(background || theme.global.drop.background, theme);\n    }\n\n    return _extends({}, theme, {\n      dark: dark\n    });\n  }, [background, theme]);\n  var dark = themeContextValue.dark;\n\n  if (dark !== undefined && dark !== theme.dark) {\n    content = /*#__PURE__*/React.createElement(ThemeContext.Provider, {\n      value: themeContextValue\n    }, content);\n  }\n\n  return /*#__PURE__*/React.createElement(PortalContext.Provider, {\n    value: nextPortalContext\n  }, /*#__PURE__*/React.createElement(FocusedContainer, {\n    onKeyDown: onEsc && preventLayerClose,\n    trapFocus: trapFocus\n  }, /*#__PURE__*/React.createElement(Keyboard // should capture keyboard event before other elements,\n  // such as Layer\n  // https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener\n  , {\n    capture: true,\n    onEsc: onEsc ? function (event) {\n      event.stopPropagation();\n      onEsc(event);\n    } : undefined,\n    onKeyDown: onKeyDown,\n    target: \"document\"\n  }, content)));\n});\nexport { DropContainer };","map":{"version":3,"names":["_excluded","_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf","React","forwardRef","useContext","useEffect","useMemo","useRef","ThemeContext","ContainerTargetContext","FocusedContainer","backgroundIsDark","findScrollParents","parseMetricToNum","PortalContext","defaultProps","Box","Keyboard","StyledDrop","preventLayerClose","event","keyCode","which","stopPropagation","defaultAlign","top","left","defaultPortalContext","DropContainer","_ref","ref","a11yTitle","ariaLabel","_ref$align","align","background","onAlign","children","dropTarget","elevation","onClickOutside","onEsc","onKeyDown","_ref$overflow","overflow","plain","responsive","restrictFocus","_ref$stretch","stretch","trapFocus","rest","containerTarget","theme","portalContext","portalId","nextPortalContext","concat","dropRef","notifyAlign","styleCurrent","current","style","alignControl","place","preserveHeight","windowWidth","window","innerWidth","windowHeight","innerHeight","container","bottom","width","maxHeight","targetRect","getBoundingClientRect","containerRect","Math","min","max","right","height","percentVisibleAreaBelow","drop","scrollParents","addScrollListeners","forEach","scrollParent","addEventListener","removeScrollListeners","removeEventListener","onClickDocument","clickedPortalId","node","document","body","path","attr","getAttribute","parseInt","parentNode","onResize","focus","content","createElement","as","global","shadowSize","undefined","tabIndex","alignProp","themeContextValue","dark","Provider","value","capture"],"sources":["/Users/siddharthkhatri/Developer/React JS/phone-book/node_modules/grommet/es6/components/Drop/DropContainer.js"],"sourcesContent":["var _excluded = [\"a11yTitle\", \"aria-label\", \"align\", \"background\", \"onAlign\", \"children\", \"dropTarget\", \"elevation\", \"onClickOutside\", \"onEsc\", \"onKeyDown\", \"overflow\", \"plain\", \"responsive\", \"restrictFocus\", \"stretch\", \"trapFocus\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef, useContext, useEffect, useMemo, useRef } from 'react';\nimport { ThemeContext } from 'styled-components';\nimport { ContainerTargetContext } from '../../contexts/ContainerTargetContext';\nimport { FocusedContainer } from '../FocusedContainer';\nimport { backgroundIsDark, findScrollParents, parseMetricToNum, PortalContext } from '../../utils';\nimport { defaultProps } from '../../default-props';\nimport { Box } from '../Box';\nimport { Keyboard } from '../Keyboard';\nimport { StyledDrop } from './StyledDrop'; // using react synthetic event to be able to stop propagation that\n// would otherwise close the layer on ESC.\n\nvar preventLayerClose = function preventLayerClose(event) {\n  var key = event.keyCode ? event.keyCode : event.which;\n\n  if (key === 27) {\n    event.stopPropagation();\n  }\n};\n\nvar defaultAlign = {\n  top: 'top',\n  left: 'left'\n};\nvar defaultPortalContext = [];\nvar DropContainer = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var a11yTitle = _ref.a11yTitle,\n      ariaLabel = _ref['aria-label'],\n      _ref$align = _ref.align,\n      align = _ref$align === void 0 ? defaultAlign : _ref$align,\n      background = _ref.background,\n      onAlign = _ref.onAlign,\n      children = _ref.children,\n      dropTarget = _ref.dropTarget,\n      elevation = _ref.elevation,\n      onClickOutside = _ref.onClickOutside,\n      onEsc = _ref.onEsc,\n      onKeyDown = _ref.onKeyDown,\n      _ref$overflow = _ref.overflow,\n      overflow = _ref$overflow === void 0 ? 'auto' : _ref$overflow,\n      plain = _ref.plain,\n      responsive = _ref.responsive,\n      restrictFocus = _ref.restrictFocus,\n      _ref$stretch = _ref.stretch,\n      stretch = _ref$stretch === void 0 ? 'width' : _ref$stretch,\n      trapFocus = _ref.trapFocus,\n      rest = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var containerTarget = useContext(ContainerTargetContext);\n  var theme = useContext(ThemeContext) || defaultProps.theme;\n  var portalContext = useContext(PortalContext) || defaultPortalContext;\n  var portalId = useMemo(function () {\n    return portalContext.length;\n  }, [portalContext]);\n  var nextPortalContext = useMemo(function () {\n    return [].concat(portalContext, [portalId]);\n  }, [portalContext, portalId]);\n  var dropRef = useRef();\n  useEffect(function () {\n    var notifyAlign = function notifyAlign() {\n      var styleCurrent = (ref || dropRef).current.style;\n      var alignControl = styleCurrent.top !== '' ? 'top' : 'bottom';\n      onAlign(alignControl);\n    }; // We try to preserve the maxHeight as changing it causes any scroll\n    // position to be lost. We set the maxHeight on mount and if the window\n    // is resized.\n\n\n    var place = function place(preserveHeight) {\n      var windowWidth = window.innerWidth;\n      var windowHeight = window.innerHeight;\n      var target = dropTarget;\n      var container = (ref || dropRef).current;\n\n      if (container && target) {\n        // clear prior styling\n        container.style.left = '';\n        container.style.top = '';\n        container.style.bottom = '';\n        container.style.width = '';\n\n        if (!preserveHeight) {\n          container.style.maxHeight = '';\n        } // get bounds\n\n\n        var targetRect = target.getBoundingClientRect();\n        var containerRect = container.getBoundingClientRect(); // determine width\n\n        var width;\n\n        if (stretch) {\n          width = Math.min(stretch === 'align' ? Math.min(targetRect.width, containerRect.width) : Math.max(targetRect.width, containerRect.width), windowWidth);\n        } else {\n          width = Math.min(containerRect.width, windowWidth);\n        } // set left position\n\n\n        var left;\n\n        if (align.left) {\n          if (align.left === 'left') {\n            left = targetRect.left;\n          } else if (align.left === 'right') {\n            left = targetRect.left + targetRect.width;\n          }\n        } else if (align.right) {\n          if (align.right === 'left') {\n            left = targetRect.left - width;\n          } else if (align.right === 'right') {\n            left = targetRect.left + targetRect.width - width;\n          }\n        } else {\n          left = targetRect.left + targetRect.width / 2 - width / 2;\n        }\n\n        if (left + width > windowWidth) {\n          left -= left + width - windowWidth;\n        } else if (left < 0) {\n          left = 0;\n        } // set top or bottom position\n\n\n        var top;\n        var bottom;\n        var maxHeight = containerRect.height;\n\n        if (align.top) {\n          if (align.top === 'top') {\n            top = targetRect.top;\n          } else {\n            top = targetRect.bottom;\n          } // Calculate visible area underneath the control w.r.t window height\n\n\n          var percentVisibleAreaBelow = 100 - targetRect.bottom / windowHeight * 100; // Check whether it is within 20% from bottom of the window or\n          // visible area to flip the control\n          // DropContainer doesn't fit well within visible area when\n          // percentVisibleAreaBelow value<=20%\n          // There is enough space from DropContainer to bottom of the window\n          // when percentVisibleAreaBelow>20%.\n\n          if (windowHeight === top || percentVisibleAreaBelow <= 20) {\n            // We need more room than we have.\n            // We put it below, but there's more room above, put it above\n            top = '';\n\n            if (align.top === 'bottom') {\n              bottom = targetRect.top;\n            } else {\n              bottom = targetRect.bottom;\n            }\n\n            maxHeight = bottom;\n            container.style.maxHeight = maxHeight + \"px\";\n          } else if (top > 0) {\n            maxHeight = windowHeight - top;\n            container.style.maxHeight = maxHeight + \"px\";\n          } else {\n            maxHeight = windowHeight - top;\n          }\n        } else if (align.bottom) {\n          if (align.bottom === 'bottom') {\n            bottom = targetRect.bottom;\n          } else {\n            bottom = targetRect.top;\n          }\n\n          maxHeight = bottom;\n          container.style.maxHeight = maxHeight + \"px\";\n        } else {\n          // center\n          top = targetRect.top + targetRect.height / 2 - containerRect.height / 2;\n          maxHeight = windowHeight - top;\n        } // if we can't fit it all, or we're rather close,\n        // see if there's more room the other direction\n\n\n        if (responsive && (containerRect.height > maxHeight || maxHeight < windowHeight / 10)) {\n          // We need more room than we have.\n          if (align.top && top > windowHeight / 2) {\n            // We put it below, but there's more room above, put it above\n            top = '';\n\n            if (align.top === 'bottom') {\n              // top = Math.max(targetRect.top - containerRect.height, 0);\n              // maxHeight = targetRect.top - top;\n              bottom = targetRect.top;\n            } else {\n              // top = Math.max(targetRect.bottom - containerRect.height, 0);\n              // maxHeight = targetRect.bottom - top;\n              bottom = targetRect.bottom;\n            }\n\n            maxHeight = bottom;\n          } else if (align.bottom && maxHeight < windowHeight / 2) {\n            // We put it above but there's more room below, put it below\n            bottom = '';\n\n            if (align.bottom === 'bottom') {\n              top = targetRect.top;\n            } else {\n              top = targetRect.bottom;\n            }\n\n            maxHeight = windowHeight - top;\n          }\n        }\n\n        container.style.left = left + \"px\";\n\n        if (stretch) {\n          // offset width by 0.1 to avoid a bug in ie11 that\n          // unnecessarily wraps the text if width is the same\n          // NOTE: turned off for now\n          container.style.width = width + 0.1 + \"px\";\n        } // the (position:absolute + scrollTop)\n        // is presenting issues with desktop scroll flickering\n\n\n        if (top !== '') {\n          container.style.top = top + \"px\";\n        }\n\n        if (bottom !== '') {\n          container.style.bottom = windowHeight - bottom + \"px\";\n        }\n\n        if (!preserveHeight) {\n          if (theme.drop && theme.drop.maxHeight) {\n            maxHeight = Math.min(maxHeight, parseMetricToNum(theme.drop.maxHeight));\n          }\n\n          container.style.maxHeight = maxHeight + \"px\";\n        }\n      }\n\n      if (onAlign) notifyAlign();\n    };\n\n    var scrollParents;\n\n    var addScrollListeners = function addScrollListeners() {\n      scrollParents = findScrollParents(dropTarget);\n      scrollParents.forEach(function (scrollParent) {\n        return scrollParent.addEventListener('scroll', place);\n      });\n    };\n\n    var removeScrollListeners = function removeScrollListeners() {\n      scrollParents.forEach(function (scrollParent) {\n        return scrollParent.removeEventListener('scroll', place);\n      });\n      scrollParents = [];\n    };\n\n    var onClickDocument = function onClickDocument(event) {\n      // determine which portal id the target is in, if any\n      var clickedPortalId = null;\n      var node = containerTarget === document.body ? event.target : event == null ? void 0 : event.path[0];\n\n      while (clickedPortalId === null && node !== document) {\n        var attr = node.getAttribute('data-g-portal-id');\n        if (attr !== null) clickedPortalId = parseInt(attr, 10);\n        node = node.parentNode;\n      }\n\n      if (clickedPortalId === null || portalContext.indexOf(clickedPortalId) !== -1) {\n        onClickOutside(event);\n      }\n    };\n\n    var onResize = function onResize() {\n      removeScrollListeners();\n      addScrollListeners();\n      place(false);\n    };\n\n    addScrollListeners();\n    window.addEventListener('resize', onResize);\n\n    if (onClickOutside) {\n      document.addEventListener('mousedown', onClickDocument);\n    }\n\n    place(false);\n    return function () {\n      removeScrollListeners();\n      window.removeEventListener('resize', onResize);\n\n      if (onClickOutside) {\n        document.removeEventListener('mousedown', onClickDocument);\n      }\n    };\n  }, [align, containerTarget, onAlign, dropTarget, onClickOutside, portalContext, portalId, ref, responsive, restrictFocus, stretch, theme.drop]);\n  useEffect(function () {\n    if (restrictFocus) {\n      (ref || dropRef).current.focus();\n    }\n  }, [ref, restrictFocus]);\n  var content = /*#__PURE__*/React.createElement(StyledDrop, _extends({\n    \"aria-label\": a11yTitle || ariaLabel,\n    ref: ref || dropRef,\n    as: Box,\n    background: background,\n    plain: plain,\n    elevation: !plain ? elevation || theme.global.drop.elevation || theme.global.drop.shadowSize || // backward compatibility\n    'small' : undefined,\n    tabIndex: \"-1\",\n    alignProp: align,\n    overflow: overflow,\n    \"data-g-portal-id\": portalId\n  }, rest), children);\n  var themeContextValue = useMemo(function () {\n    var dark;\n\n    if (background || theme.global.drop.background) {\n      dark = backgroundIsDark(background || theme.global.drop.background, theme);\n    }\n\n    return _extends({}, theme, {\n      dark: dark\n    });\n  }, [background, theme]);\n  var dark = themeContextValue.dark;\n\n  if (dark !== undefined && dark !== theme.dark) {\n    content = /*#__PURE__*/React.createElement(ThemeContext.Provider, {\n      value: themeContextValue\n    }, content);\n  }\n\n  return /*#__PURE__*/React.createElement(PortalContext.Provider, {\n    value: nextPortalContext\n  }, /*#__PURE__*/React.createElement(FocusedContainer, {\n    onKeyDown: onEsc && preventLayerClose,\n    trapFocus: trapFocus\n  }, /*#__PURE__*/React.createElement(Keyboard // should capture keyboard event before other elements,\n  // such as Layer\n  // https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener\n  , {\n    capture: true,\n    onEsc: onEsc ? function (event) {\n      event.stopPropagation();\n      onEsc(event);\n    } : undefined,\n    onKeyDown: onKeyDown,\n    target: \"document\"\n  }, content)));\n});\nexport { DropContainer };"],"mappings":"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"},"metadata":{},"sourceType":"module"}